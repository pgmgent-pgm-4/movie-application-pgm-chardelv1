{"version":3,"sources":["app/components/movies/MovieDetails.module.scss","app/components/tv-shows/ShowDetails.module.scss","app/components/movies/MovieListItem.module.scss","app/components/tv-shows/ShowListItem.module.scss","app/components/people/Person.module.scss","app/App.module.scss","app/components/reviews/ReviewListItem.module.scss","app/components/reviews/ReviewForm.module.scss","app/components/movies/MovieList.module.scss","app/components/tv-shows/ShowList.module.scss","app/pages/NotFoundPage.module.scss","app/components/layout/Footer.module.scss","app/components/theme/ThemeToggler.module.scss","app/components/layout/MainNavigation.module.scss","app/components/layout/Header.module.scss","app/layouts/BaseLayout.module.scss","app/components/movies/FilteredMovieList.module.scss","app/components/comments/CommentForm.module.scss","app/components/movies/MovieReviewListItem.module.scss","app/components/movies/MovieTrailer.module.scss","app/components/movies/MovieTrailers.module.scss","app/components/tv-shows/FilteredShowList.module.scss","app/components/tv-shows/ShowReviewListItem.module.scss","app/components/search/SearchResultList.module.scss","app/config/appConfig.js","app/config/firebaseConfig.js","app/contexts/firebase/firebase.context.js","app/contexts/firebase/auth.context.js","app/routes/index.js","app/components/layout/Footer.js","app/contexts/ThemeContext.js","app/components/theme/ThemeToggler.js","app/components/layout/MainNavigation.js","app/components/layout/Header.js","app/layouts/BaseLayout.js","app/hooks/useFetch.js","app/contexts/firebase/firestore.context.js","app/components/movies/MovieListItem.js","app/components/movies/FilteredMovieList.js","app/components/comments/CommentForm.js","app/components/comments/CommentListItem.js","app/components/comments/CommentList.js","app/components/people/Person.js","app/components/reviews/ReviewForm.js","app/components/reviews/ReviewListItem.js","app/components/reviews/ReviewList.js","app/components/movies/MovieDetails.js","app/components/movies/MovieFilters.js","app/components/movies/MovieList.js","app/components/movies/MovieTrailer.js","app/components/movies/MovieTrailers.js","app/components/tv-shows/ShowListItem.js","app/components/tv-shows/FilteredShowList.js","app/components/tv-shows/ShowDetails.js","app/components/tv-shows/ShowFilters.js","app/components/tv-shows/ShowList.js","app/pages/HomePage.js","app/pages/MoviePage.js","app/pages/MoviesPage.js","app/pages/ShowPage.js","app/pages/ShowsPage.js","app/pages/SignInPage.js","app/components/search/SearchFilters.js","app/components/search/SearchResultListItem.js","app/components/search/SearchResultList.js","app/pages/ResultsPage.js","app/App.js","app/index.js","reportWebVitals.js","index.js"],"names":["module","exports","appConfig","tmdbApiKey","process","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","FirebaseContext","createContext","useFirebase","useContext","FirebaseProvider","children","useState","firebase","apps","length","app","initializeApp","Provider","value","AuthContext","useAuth","AuthProvider","JSON","parse","localStorage","getItem","currentUser","setCurrentUser","auth","useEffect","unsubscribe","onAuthStateChanged","user","setItem","stringify","register","email","password","displayName","photoUrl","a","data","emailVerified","disabled","createUser","userData","console","log","uid","signInWithEmailAndPassword","signOut","LANDING","MOVIES","MOVIE_DETAILS","TVSHOWS","TVSHOW_DETAILS","RESULTS","AUTH_SIGN_IN","Footer","fullYear","Date","getFullYear","className","styles","footer","href","title","ThemeContext","React","ThemeToggler","theme","setTheme","themeToggler","onClick","e","preventDefault","role","aria-label","MainNavigation","query","setQuery","to","Routes","src","alt","type","id","name","onChange","target","replace","user__avatar","Header","header","BaseLayout","styled","main","useFetch","endpoint","queryParams","params","setData","error","setError","isLoading","setIsLoading","apiUrl","getData","fetch","response","json","jsonData","FirestoreContext","useFirestore","FirestoreProvider","db","firestore","getMovies","collection","orderBy","get","querySnapshot","movies","docs","map","doc","getPagedMovies","itemsPerPage","lastVisible","limit","startAfter","lastVisibleDoc","getMovieById","movieId","docRef","exists","Error","getMovieComments","movieComments","getMovieReviews","movieReviews","addMovieReview","review","document","ref","update","modifiedAt","set","createdAt","deletedAt","movieRef","reviewRef","uuidv4","runTransaction","transaction","then","res","newNumReviews","numReviews","newAvgRating","avgRating","rating","getTvShows","getPagedTvShows","tvShows","getTvShowById","tvShowId","getTvShowReviews","tvShowReviews","getTvShowComments","tvShowComments","getCommentComments","docType","docId","commentId","commentComments","addCommentToRef","colType","colId","comment","numComments","parentRef","childRef","toString","commentRef","newNumComments","addTvShowReview","tvShowRef","MovieListItem","movie","dbMovie","setDbMovie","fetchData","useCallback","date","movielistItem","picture","poster_path","content","Math","floor","vote_average","release_date","dayjs","format","meta","vote_count","numViews","round","popularity","MovieList","filter","results","filteredMovies","includes","sort","b","$M","$D","$y","slice","movieList","message","CommentForm","subjectType","subjectId","dbComment","setDbComment","window","location","reload","onSubmit","FormData","commentData","entry","push","d","now","spammedDate","text","placeholder","required","extend","updateLocale","relativeTime","advancedFormat","CommentListItem","replyClicked","setReplyClicked","readMore","setReadMore","comments","setComments","dbComments","fromNow","readMoreButton","replyButton","index","CommentList","amount","commentList","Person","person","profile_path","birthday","character","ReviewForm","dbReview","setDbReview","setRating","reviewData","reviewElements","reviewRating","htmlFor","min","max","reviewTitle","ReviewListItem","ratingArr","i","reviewHeader","ratingIcon","normalize","ReviewList","reviews","reviewList","MovieDetails","watchProviders","showAddReview","setShowAddReview","setMovieComments","setMovieReviews","movieData","Video","video","videoContainer","width","height","key","frameBorder","allow","allowFullScreen","movielistItemContainer","visualInfo","videos","textInfo","tagsList","keywords","keyword","tag","tagline","homepage","BE","flatrate","watch","link","providerLogo","logo_path","provider_name","overview","people","credits","cast","recommendationsTitle","recommendedMoviesList","recommendations","rec","movieImg","leaveReviewButton","MovieFilters","onFiltersChange","genreData","keywordQuery","setKeywordQuery","genreIds","setGenreIds","genres","filterOptions","getFilterString","filters","formHasGenres","formHasKeywordQuery","getAll","genre","fetchPath","setFilters","fetchArgs","join","moviesContainer","MovieTrailer","MovieTrailers","movieTrailers","ShowListItem","show","tvShow","setTvShow","showlistItem","first_air_date","ShowList","tv","filteredShows","split","parseInt","first_air_date_year","showList","ShowDetails","showIsLoading","showError","setTvShowComments","setTvShowReviews","tvShowData","commentsData","showReviews","similar","ShowFilters","shows","showsContainer","HomePage","FilteredMovieList","FilteredShowList","MoviePage","useParams","MoviesPage","ShowPage","ShowsPage","SignInPage","history","useHistory","txtEmail","txtPassword","signInForm","setSignInForm","handleSubmit","ev","goBack","handleInputChange","pageSignIn","formGroup","aria-describedby","SearchFilters","SearchResultListItem","result","media_type","SearchResults","encodeURI","resultsList","ResultsPage","SearchResultList","App","data-theme","Helmet","charSet","basename","exact","path","component","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.33aa45ad.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"movielistItem\":\"MovieDetails_movielistItem__20xeX\",\"visualInfo\":\"MovieDetails_visualInfo__P_mWQ\",\"picture\":\"MovieDetails_picture__2qzFo\",\"videoContainer\":\"MovieDetails_videoContainer__MAgiv\",\"content\":\"MovieDetails_content__3w0v6\",\"title\":\"MovieDetails_title__23HZG\",\"watch\":\"MovieDetails_watch__CpQbo\",\"providerLogo\":\"MovieDetails_providerLogo__1GLNP\",\"meta\":\"MovieDetails_meta__2YlXr\",\"rating\":\"MovieDetails_rating__2cD9w\",\"textInfo\":\"MovieDetails_textInfo__3Obul\",\"people\":\"MovieDetails_people__rGpki\",\"tagsList\":\"MovieDetails_tagsList__2s0px\",\"tag\":\"MovieDetails_tag__3txTS\",\"recommendationsTitle\":\"MovieDetails_recommendationsTitle__y55UA\",\"recommendedMoviesList\":\"MovieDetails_recommendedMoviesList__3xyNH\",\"user__avatar\":\"MovieDetails_user__avatar__pcj4v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tvShow\":\"ShowDetails_tvShow__3DZO8\",\"showlistItem\":\"ShowDetails_showlistItem__3LRYa\",\"visualInfo\":\"ShowDetails_visualInfo__1UW4U\",\"picture\":\"ShowDetails_picture__28E6M\",\"videoContainer\":\"ShowDetails_videoContainer__3Fsk1\",\"content\":\"ShowDetails_content__24mJo\",\"title\":\"ShowDetails_title__UJMF1\",\"watch\":\"ShowDetails_watch__19toG\",\"providerLogo\":\"ShowDetails_providerLogo__1ZSlE\",\"meta\":\"ShowDetails_meta__2ht42\",\"rating\":\"ShowDetails_rating__1yW_z\",\"textInfo\":\"ShowDetails_textInfo__1HR4H\",\"people\":\"ShowDetails_people__3ujkq\",\"tagsList\":\"ShowDetails_tagsList__1bqqx\",\"tag\":\"ShowDetails_tag__2Q-e1\",\"recommendationsTitle\":\"ShowDetails_recommendationsTitle__z9BdU\",\"recommendedMoviesList\":\"ShowDetails_recommendedMoviesList__TohaE\",\"user__avatar\":\"ShowDetails_user__avatar__3ejAb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movielistItem\":\"MovieListItem_movielistItem__j1eIN\",\"picture\":\"MovieListItem_picture__oRERc\",\"content\":\"MovieListItem_content___X2XO\",\"title\":\"MovieListItem_title__yu4p6\",\"meta\":\"MovieListItem_meta__3HBB9\",\"rating\":\"MovieListItem_rating__TvMor\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"showlistItem\":\"ShowListItem_showlistItem__3mT3W\",\"picture\":\"ShowListItem_picture__2rEf2\",\"content\":\"ShowListItem_content__1qtex\",\"title\":\"ShowListItem_title__3bx0f\",\"meta\":\"ShowListItem_meta__VWP6M\",\"rating\":\"ShowListItem_rating__3qLxl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"person\":\"Person_person__hSmaF\",\"picture\":\"Person_picture__2sh6q\",\"content\":\"Person_content__3mVaS\",\"title\":\"Person_title__7ssL0\",\"meta\":\"Person_meta__3juyC\",\"rating\":\"Person_rating__2HKh0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3tesF\",\"pageSignIn\":\"App_pageSignIn__ywfGZ\",\"formGroup\":\"App_formGroup__KiX6O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewHeader\":\"ReviewListItem_reviewHeader__3I5j_\",\"reviewRating\":\"ReviewListItem_reviewRating__1kqAr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ReviewForm\":\"ReviewForm_ReviewForm__1U-52\",\"reviewElements\":\"ReviewForm_reviewElements__psYY1\",\"reviewRating\":\"ReviewForm_reviewRating__152wl\",\"reviewTitle\":\"ReviewForm_reviewTitle__1ImSq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moviesContainer\":\"MovieList_moviesContainer__10d7_\",\"filters\":\"MovieList_filters__3CIL-\",\"results\":\"MovieList_results__3oiNz\",\"movieList\":\"MovieList_movieList__34BsK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"showsContainer\":\"ShowList_showsContainer__20x59\",\"filters\":\"ShowList_filters__1-HFr\",\"results\":\"ShowList_results__1kQvu\",\"showList\":\"ShowList_showList__1zr4D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullContainer\":\"NotFoundPage_fullContainer__18JJP\",\"fof\":\"NotFoundPage_fof__25q8d\",\"callToActions\":\"NotFoundPage_callToActions__3QEDn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1VB1I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"themeToggler\":\"ThemeToggler_themeToggler__poRfp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__avatar\":\"MainNavigation_user__avatar__1W7UX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3bMw_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"BaseLayout_main__1oaWc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieList\":\"FilteredMovieList_movieList__1J2LW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentForm\":\"CommentForm_CommentForm__ZVhTk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movielistItem\":\"MovieReviewListItem_movielistItem__OZfuE\",\"picture\":\"MovieReviewListItem_picture__2YOow\",\"content\":\"MovieReviewListItem_content__H4JgD\",\"title\":\"MovieReviewListItem_title__3cPcP\",\"meta\":\"MovieReviewListItem_meta__1_imf\",\"rating\":\"MovieReviewListItem_rating__vDCyo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"videoContainer\":\"MovieTrailer_videoContainer__3ZS-4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieTrailers\":\"MovieTrailers_movieTrailers__9hF7B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"showList\":\"FilteredShowList_showList__IU3tp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"showlistItem\":\"ShowReviewListItem_showlistItem__2Fk0N\",\"picture\":\"ShowReviewListItem_picture__10W_7\",\"content\":\"ShowReviewListItem_content__2-oAc\",\"title\":\"ShowReviewListItem_title__32p9u\",\"meta\":\"ShowReviewListItem_meta__4HJom\",\"rating\":\"ShowReviewListItem_rating__1yzpZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resultsList\":\"SearchResultList_resultsList__1LxN-\",\"movieList\":\"SearchResultList_movieList__2vjbD\"};","const appConfig = {\r\n  tmdbApiKey: process.env.REACT_APP_TMDB_API_KEY,\r\n};\r\n\r\nexport default appConfig;","const firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID\r\n};\r\n\r\nexport default firebaseConfig;","import { createContext, useContext, useState } from 'react';\r\nimport firebase from 'firebase/app';\r\n\r\nimport { firebaseConfig } from '../../config';\r\n\r\nconst FirebaseContext = createContext(null);\r\nconst useFirebase = () => useContext(FirebaseContext);\r\n\r\nconst FirebaseProvider = ({children}) => {\r\n  const [app] = useState(!firebase.apps.length ? firebase.initializeApp(firebaseConfig) : firebase.app());\r\n\r\n  return (\r\n    <FirebaseContext.Provider value={{app}}>\r\n      {children}\r\n    </FirebaseContext.Provider>\r\n  )\r\n};\r\n\r\nexport {\r\n  FirebaseContext,\r\n  FirebaseProvider,\r\n  useFirebase,\r\n};\r\n","import { createContext, useContext, useEffect, useState } from 'react';\r\nimport 'firebase/auth';\r\n\r\nimport { useFirebase } from './firebase.context';\r\n\r\nconst AuthContext = createContext(null);\r\nconst useAuth = () => useContext(AuthContext);\r\n\r\nconst AuthProvider = ({children}) => {\r\n  const [currentUser, setCurrentUser] = useState(JSON.parse(localStorage.getItem('react-firebase-pgm-4:currentUser')));\r\n  const { app } = useFirebase();\r\n  const auth = app.auth();\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user) => {\r\n      localStorage.setItem('react-firebase-pgm-4:currentUser', JSON.stringify(user));\r\n      setCurrentUser(user);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    }\r\n  }, [auth]);\r\n\r\n  const register = async (email, password, displayName, photoUrl) => {\r\n    try {\r\n      const data = {\r\n        email,\r\n        emailVerified: false,\r\n        password,\r\n        displayName,\r\n        photoUrl,\r\n        disabled: false,\r\n      };\r\n      const userData = await auth.createUser(data);\r\n      console.log(`Added user with email ${email}. Returned id: ${userData.uid}`);\r\n    } catch (ex) {\r\n      console.log(ex);\r\n    }\r\n  }\r\n\r\n  const signInWithEmailAndPassword = async (email, password) => {\r\n    try {\r\n      return await auth.signInWithEmailAndPassword(email, password);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }    \r\n  };\r\n\r\n  const signOut = async () => {\r\n    localStorage.setItem('react-firebase-pgm-4:currentUser', null);\r\n    return await auth.signOut();\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{currentUser,register,signInWithEmailAndPassword,signOut}}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\n\r\nexport {\r\n  AuthContext,\r\n  AuthProvider,\r\n  useAuth,\r\n};","export const LANDING = '/';\r\nexport const HOME = '/home';\r\nexport const MOVIES = '/movies';\r\nexport const MOVIE_DETAILS = '/movies/:id';\r\nexport const TVSHOWS = '/tv-shows';\r\nexport const TVSHOW_DETAILS = '/tv-shows/:id';\r\nexport const POSTS = '/posts';\r\nexport const RESULTS = '/search/:query';\r\nexport const POST_DETAILS = '/posts/:id';\r\nexport const AUTH_SIGN_IN = '/auth/signin';\r\nexport const AUTH_SIGN_OUT = '/auth/signout';\r\nexport const FOUROFOUR = '/404';","import { Link } from \"react-router-dom\";\r\n\r\nimport * as Routes from '../../routes';\r\n\r\nimport styles from './Footer.module.scss';\r\n\r\nconst Footer = () => {\r\n  const fullYear = new Date().getFullYear();\r\n  return (\r\n    <footer className={styles.footer}>\r\n      <p>Made by Charlotte Delvaux in {fullYear}<br/>for the course Programming 4<br/> in the Associate Degree in Computer Programming <br/> at Artevelde University of Applied Sciences.</p>\r\n      <div>Favicons made by <a href=\"\" title=\"photo3idea_studio\">photo3idea_studio</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;","import React from 'react'\r\n\r\nexport const ThemeContext = React.createContext();","import React, { useContext } from 'react';\r\nimport { ThemeContext } from '../../contexts/ThemeContext';\r\nimport styles from './ThemeToggler.module.scss';\r\n\r\nconst ThemeToggler = () => {\r\n  const { theme, setTheme } = useContext(ThemeContext);\r\n\r\n  const handleThemeToggle = (e) => {\r\n    e.preventDefault();\r\n    setTheme(theme === 'light' ? 'dark' : 'light');\r\n  };\r\n\r\n  return (\r\n    <button className={styles.themeToggler} onClick={handleThemeToggle}>\r\n      <span role=\"img\" aria-label=\"switch theme\">\r\n        {theme ===  'light' ? '🌞' : '🔅'}\r\n      </span>\r\n    </button>\r\n  )\r\n}\r\nexport default ThemeToggler;\r\n","import { FiSearch } from 'react-icons/fi';\r\nimport { useState } from 'react';\r\nimport {\r\n  Link, Route\r\n} from \"react-router-dom\";\r\n\r\nimport ThemeToggler from '../theme/ThemeToggler';\r\n\r\nimport * as Routes from '../../routes';\r\nimport { useAuth } from '../../contexts/firebase/auth.context';\r\n\r\nimport styles from './MainNavigation.module.scss';\r\n\r\nconst MainNavigation = () => {\r\n  const {currentUser, signOut} = useAuth();\r\n  const [query, setQuery] = useState();\r\n  const handleChange = (e) => {\r\n    setQuery(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <nav>\r\n      <ul>\r\n        <li>\r\n          <Link to={Routes.LANDING}><img src=\"/static/media/mstile-150x150.png\" alt=\"Home\"/></Link>\r\n        </li>\r\n        <li>\r\n          <Link to={Routes.MOVIES}>Movies</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={Routes.TVSHOWS}>TV-Shows</Link>\r\n        </li>\r\n        <li>\r\n          <input type=\"search\" id=\"search\" name=\"search\" value={query} onChange={handleChange}/>\r\n          <Link to={Routes.RESULTS.replace(':query', query)}><FiSearch /></Link>\r\n        </li>\r\n        <li>\r\n          {!!currentUser\r\n          ? <button href=\"#\" onClick={signOut}><img className={styles.user__avatar} src={`https://robohash.org/${currentUser.id}?gravatar=hashed`} alt='User avatar'/>Logout</button>\r\n          : <Link to={Routes.AUTH_SIGN_IN}>Sign In</Link>}\r\n        </li>\r\n        <li>\r\n          <ThemeToggler />\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MainNavigation;","import MainNavigation from './MainNavigation';\r\nimport styles from './Header.module.scss';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <MainNavigation />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import { Footer, Header } from '../components/layout';\r\n\r\nimport styled from './BaseLayout.module.scss';\r\n\r\nconst BaseLayout = ({children}) => {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <main className={styled.main}>\r\n        { children }\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  )\r\n};\r\n\r\nexport default BaseLayout;","import { useEffect, useState } from 'react';\r\nimport { appConfig } from '../config';\r\n/**\r\n * Use Fetch\r\n * @param {string} endpoint\r\n * @param {string} queryParams\r\n * @returns {array} [{array} data, {boolean} isLoading, {error/null} error]\r\n */\r\nconst useFetch = (endpoint, queryParams = '') => {\r\n  // If there are query params defined append them to the API URL\r\n  let params = '';\r\n  if (queryParams !== '') {\r\n    params = `&${queryParams}`;\r\n  };\r\n  \r\n  const [data, setData] = useState([]);\r\n  const [error, setError] = useState();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const apiUrl = `https://api.themoviedb.org/3/${endpoint}?api_key=${appConfig.tmdbApiKey}${params}`;\r\n  \r\n  const getData = async () => {\r\n    try {\r\n      const response = await fetch(apiUrl);\r\n      const jsonData = await response.json();\r\n      setData(jsonData);\r\n    } catch (err) {\r\n      setError(err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  return [data, isLoading, error];\r\n};\r\n\r\nexport default useFetch;\r\n","import React, { useContext } from 'react';\r\nimport 'firebase/firestore';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport { useFirebase } from './firebase.context';\r\n\r\nconst FirestoreContext = React.createContext(null);\r\nconst useFirestore = () => useContext(FirestoreContext);\r\n\r\nconst FirestoreProvider = ({children}) => {\r\n  const { app } = useFirebase();\r\n  const db = app.firestore();\r\n\r\n  const getMovies = async () => {\r\n    const query = db.collection('movies')\r\n      .orderBy('createdAt', 'desc');\r\n    const querySnapshot = await query.get();\r\n    const movies = querySnapshot.docs.map((doc) => {\r\n      return {\r\n        uid: doc.id,\r\n        ...doc.data()\r\n      }\r\n    });\r\n    return movies;\r\n  };\r\n\r\n  const getPagedMovies = async (itemsPerPage = 10, lastVisible = null) => {\r\n    let query = null;\r\n\r\n    if (lastVisible === null) {\r\n      query = db.collection('movies')\r\n      .orderBy('createdAt', 'desc')      \r\n      .limit(itemsPerPage);\r\n    } else {\r\n      query = db.collection('movies')\r\n      .orderBy('createdAt', 'desc')\r\n      .startAfter(lastVisible)\r\n      .limit(itemsPerPage);\r\n    }\r\n    \r\n    const querySnapshot = await query.get();\r\n    const lastVisibleDoc = querySnapshot.docs[querySnapshot.docs.length-1];\r\n    const movies = querySnapshot.docs.map((doc) => {\r\n      return {\r\n        uid: doc.id,\r\n        ...doc.data()\r\n      }\r\n    });\r\n    return {movies, itemsPerPage, lastVisibleDoc};\r\n  };\r\n\r\n  const getMovieById = async (movieId) => {\r\n    const docRef = db.collection('movies').doc(movieId);\r\n    const doc = await docRef.get();\r\n    if (!doc.exists) {\r\n        throw new Error('Document does not exist!');\r\n    }\r\n\r\n    return {\r\n      uid: doc.id,\r\n      ...doc.data()\r\n    }\r\n  };\r\n\r\n  const getMovieComments = async (movieId) => {\r\n    const query = db.collection('movies').doc(movieId).collection('comments').orderBy('createdAt', 'desc');\r\n    const querySnapshot = await query.get();\r\n    const movieComments = querySnapshot.docs.map((doc) => {\r\n      return {\r\n        uid: doc.id,\r\n        ...doc.data()\r\n      }\r\n    });\r\n    return movieComments;\r\n  };\r\n\r\n  const getMovieReviews = async (movieId) => {\r\n    const query = db.collection('movies').doc(movieId).collection('reviews').orderBy('createdAt', 'desc');\r\n    const querySnapshot = await query.get();\r\n    const movieReviews = querySnapshot.docs.map((doc) => {\r\n      return {\r\n        uid: doc.id,\r\n        ...doc.data()\r\n      }\r\n    });\r\n    return movieReviews;\r\n  };\r\n\r\n  const addMovieReview = async (movieId, review) => {\r\n    let document = await db.collection('movies').doc(movieId).get();\r\n    if (document && document.exists) {\r\n      await document.ref.update({\r\n        modifiedAt: new Date(),\r\n      });\r\n    } else {\r\n      await document.ref.set({\r\n        id: movieId,\r\n        createdAt: new Date(),\r\n        modifiedAt: null,\r\n        deletedAt: null,\r\n        name: null,\r\n      })\r\n    }\r\n    const movieRef = db.collection('movies').doc(movieId);\r\n    var reviewRef = movieRef.collection('reviews').doc(uuidv4());\r\n\r\n    return db.runTransaction((transaction) => {\r\n        return transaction.get(movieRef).then((res) => {\r\n            if (!res.exists) {\r\n                throw new Error('Document does not exist!');\r\n            }\r\n\r\n            // Compute new number of reviews\r\n            var newNumReviews = res.data().numReviews + 1;\r\n\r\n            // Compute new average rating\r\n            var oldRatingTotal = res.data().avgRating * res.data().numReviews;\r\n            var newAvgRating = (oldRatingTotal + review.rating) / newNumReviews;\r\n\r\n            // Commit to Firestore\r\n            transaction.update(movieRef, {\r\n                numReviews: newNumReviews,\r\n                avgRating: newAvgRating\r\n            });\r\n            transaction.set(reviewRef, review);\r\n        });\r\n    });\r\n  }\r\n  const getTvShows = async () => {\r\n    const query = db.collection('tv')\r\n      .orderBy('createdAt', 'desc');\r\n    const querySnapshot = await query.get();\r\n    const tvShows = querySnapshot.docs.map((doc) => {\r\n      return {\r\n        uid: doc.id,\r\n        ...doc.data()\r\n      }\r\n    });\r\n    return movies;\r\n  };\r\n\r\n  const getPagedTvShows = async (itemsPerPage = 10, lastVisible = null) => {\r\n    let query = null;\r\n\r\n    if (lastVisible === null) {\r\n      query = db.collection('tv')\r\n      .orderBy('createdAt', 'desc')      \r\n      .limit(itemsPerPage);\r\n    } else {\r\n      query = db.collection('tv')\r\n      .orderBy('createdAt', 'desc')\r\n      .startAfter(lastVisible)\r\n      .limit(itemsPerPage);\r\n    }\r\n    \r\n    const querySnapshot = await query.get();\r\n    const lastVisibleDoc = querySnapshot.docs[querySnapshot.docs.length-1];\r\n    const tvShows = querySnapshot.docs.map((doc) => {\r\n      return {\r\n        uid: doc.id,\r\n        ...doc.data()\r\n      }\r\n    });\r\n    return {tvShows, itemsPerPage, lastVisibleDoc};\r\n  };\r\n\r\n  const getTvShowById = async (tvShowId) => {\r\n    const docRef = db.collection('tv').doc(tvShowId);\r\n    const doc = await docRef.get();\r\n    if (!doc.exists) {\r\n        throw new Error('Document does not exist!');\r\n    }\r\n\r\n    return {\r\n      uid: doc.id,\r\n      ...doc.data()\r\n    }\r\n  };\r\n\r\n  const getTvShowReviews = async (tvShowId) => {\r\n    const query = db.collection('tv').doc(tvShowId).collection('reviews').orderBy('createdAt', 'desc');\r\n    const querySnapshot = await query.get();\r\n    const tvShowReviews = querySnapshot.docs.map((doc) => {\r\n      return {\r\n        uid: doc.id,\r\n        ...doc.data()\r\n      }\r\n    });\r\n    return tvShowReviews;\r\n  };\r\n\r\n  const getTvShowComments = async (tvShowId) => {\r\n    const query = db.collection('tv').doc(tvShowId).collection('comments').orderBy('createdAt', 'desc');\r\n    const querySnapshot = await query.get();\r\n    const tvShowComments = querySnapshot.docs.map((doc) => {\r\n      return {\r\n        uid: doc.id,\r\n        ...doc.data()\r\n      }\r\n    });\r\n    return tvShowComments;\r\n  };\r\n\r\n  const getCommentComments = async (docType, docId, commentId) => {\r\n    const query = db.collection(docType).doc(docId).collection('comments').doc(commentId).collection('comments').orderBy('createdAt', 'desc');\r\n    const querySnapshot = await query.get();\r\n    const commentComments = querySnapshot.docs.map((doc) => {\r\n      return {\r\n        uid: doc.id,\r\n        ...doc.data()\r\n      }\r\n    });\r\n    return commentComments;\r\n  }\r\n\r\n  const addCommentToRef = async (docType, docId, colType = null, colId = null, comment) => {\r\n    let document = await db.collection(docType).doc(docId).get();\r\n    if (document && document.exists) {\r\n      await document.ref.update({\r\n        modifiedAt: new Date(),\r\n        numComments: +1\r\n      });\r\n    } else {\r\n      await document.ref.set({\r\n        id: docId,\r\n        createdAt: new Date(),\r\n        modifiedAt: null,\r\n        deletedAt: null,\r\n        name: null,\r\n        numComments: 1\r\n      })\r\n    }\r\n    const parentRef = db.collection(docType).doc(docId);\r\n    let commentRef;\r\n    if (!(!!colType) || !(!!colId)) {\r\n      commentRef = parentRef.collection('comments').doc(uuidv4());\r\n    } else if (!!colType && !!colId) {\r\n      let childRef = parentRef.collection(colType).doc((colId).toString());\r\n      commentRef = childRef.collection(colType).doc(uuidv4());\r\n    } else {\r\n      console.log('this shouldn\\'t happen')\r\n    }\r\n\r\n    return db.runTransaction((transaction) => {\r\n      return transaction.get(parentRef).then((res) => {\r\n        if (!res.exists) {\r\n          throw new Error('Document does not exist!');\r\n        }\r\n\r\n        // Compute new number of comments\r\n        var newNumComments = res.data().numComments + 1;\r\n\r\n        transaction.update(parentRef, {\r\n          numComments: newNumComments\r\n        });\r\n        transaction.set(commentRef, comment);\r\n      })\r\n    })\r\n  }\r\n\r\n  const addTvShowReview = async (tvShowId, review) => {\r\n    let document = await db.collection('tv').doc(tvShowId).get();\r\n    if (document && document.exists) {\r\n      await document.ref.update({\r\n        modifiedAt: new Date(),\r\n      });\r\n    } else {\r\n      await document.ref.set({\r\n        id: tvShowId,\r\n        createdAt: new Date(),\r\n        modifiedAt: null,\r\n        deletedAt: null,\r\n        name: null,\r\n      })\r\n    }\r\n    const tvShowRef = db.collection('tv').doc(tvShowId);\r\n    var reviewRef = tvShowRef.collection('reviews').doc(uuidv4());\r\n\r\n    return db.runTransaction((transaction) => {\r\n        return transaction.get(tvShowRef).then((res) => {\r\n            if (!res.exists) {\r\n                throw new Error('Document does not exist!');\r\n            }\r\n\r\n            // Compute new number of reviews\r\n            var newNumReviews = res.data().numReviews + 1;\r\n\r\n            // Compute new average rating\r\n            var oldRatingTotal = res.data().avgRating * res.data().numReviews;\r\n            var newAvgRating = (oldRatingTotal + review.rating) / newNumReviews;\r\n\r\n            // Commit to Firestore\r\n            transaction.update(tvShowRef, {\r\n                numReviews: newNumReviews,\r\n                avgRating: newAvgRating\r\n            });\r\n            transaction.set(reviewRef, review);\r\n        });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <FirestoreContext.Provider value={{addCommentToRef, addMovieReview, getPagedMovies, getMovieById, getMovieComments, getMovies, getMovieReviews, addTvShowReview, getPagedTvShows, getCommentComments, getTvShowComments, getTvShowById, getTvShows, getTvShowReviews}}>\r\n      {children}\r\n    </FirestoreContext.Provider>\r\n  );\r\n};\r\n\r\nexport {\r\n  FirestoreContext,\r\n  FirestoreProvider,\r\n  useFirestore,\r\n};","import { useCallback, useEffect, useState } from 'react';\r\nimport { FiEye } from \"react-icons/fi\";\r\nimport { VscPreview } from \"react-icons/vsc\";\r\nimport { Link } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\n\r\nimport { useFirestore } from '../../contexts/firebase/firestore.context';\r\nimport * as Routes from '../../routes';\r\nimport styles from './MovieListItem.module.scss';\r\n\r\nconst MovieListItem = ({ movie, type = 'remote' }) => {\r\n  const [dbMovie, setDbMovie] = useState();\r\n  const { getMovieById } = useFirestore();\r\n  \r\n  const fetchData = useCallback(\r\n    async () => {\r\n      try {\r\n        const data = await getMovieById((movie.id).toString());\r\n        setDbMovie(data);\r\n      } catch (err) {\r\n        // Stop the app from throwing errors when a movie is not in the firestore database\r\n      }\r\n    },\r\n    [getMovieById, (movie.id).toString()]\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n  }, [fetchData]);\r\n\r\n  const parseReleaseDate = (date) => {\r\n    return (dayjs(date)).format('DD/MM/YYYY');\r\n  }\r\n  return (\r\n    <article className={styles.movielistItem}>\r\n      <Link to={Routes.MOVIE_DETAILS.replace(':id', movie.id)}>\r\n      <picture className={styles.picture}>\r\n      {!!movie.poster_path && <img src={`https://www.themoviedb.org/t/p/w600_and_h900_bestv2/${movie.poster_path}`} alt={movie.title} />}\r\n      {!(!!movie.poster_path) && <img src='https://api.acomart.tv/images/video-placeholder.jpg' alt={movie.name} />}\r\n      </picture>\r\n      <div className={styles.content}>\r\n        <span className={styles.rating}>{Math.floor(movie.vote_average*10)}<sup>%</sup></span>\r\n        <h3 className={styles.title}>{ movie.title }</h3>\r\n        <p>Release date: {parseReleaseDate(movie.release_date)}</p>\r\n      </div>\r\n      <footer className={styles.meta}>\r\n        {dbMovie && <span className={styles.numReviews}><VscPreview /><span>{ dbMovie.numReviews }</span></span>}\r\n        {!dbMovie && <span className={styles.numReviews}><VscPreview /><span>{ movie.vote_count }</span></span>}\r\n        {dbMovie && <span className={styles.numViews}><FiEye /><span>{ dbMovie.numViews }</span></span>}\r\n        {!dbMovie && <span className={styles.numViews}><FiEye /><span>{(Math.round(movie.popularity))}</span></span>}\r\n      </footer>   \r\n      </Link>\r\n    </article>\r\n  )\r\n};\r\n\r\nexport default MovieListItem;","import useFetch from '../../hooks/useFetch';\r\n\r\nimport MovieListItem from './MovieListItem';\r\nimport styles from './FilteredMovieList.module.scss';\r\nimport dayjs from \"dayjs\";\r\n\r\nconst MovieList = ({filter}) => {\r\n  const [data, isLoading, error] = useFetch('discover/movie', filter)\r\n  const movies = data.results;\r\n  let filteredMovies = movies;\r\n  if (filter.includes('primary_release_year=2021') && movies) {\r\n    filteredMovies = filteredMovies.sort((a, b) => {\r\n      if (dayjs(a.release_date).$M < dayjs(b.release_date).$M) {\r\n        return 1;\r\n      } else if (dayjs(a.release_date).$M === dayjs(b.release_date).$M) {\r\n        if (dayjs(a.release_date).$D < dayjs(b.release_date).$D) {\r\n          return 1\r\n        } else if (dayjs(a.release_date).$D === dayjs(b.release_date).$D) {\r\n          return 0;\r\n        } else {\r\n          return -1;\r\n        }\r\n      } else {\r\n        return -1;\r\n      }\r\n    });\r\n  };\r\n  if (filter.includes('sort_by=release_date') && movies && (!filter.includes('&release_year.lte'))) {\r\n    filteredMovies = filteredMovies.sort((a, b) => {\r\n      if (dayjs(a.release_date).$y > dayjs(b.release_date).$y) {\r\n        return 1;\r\n      } else if (dayjs(a.release_date).$y === dayjs(b.release_date).$y) {\r\n        if (dayjs(a.release_date).$M < dayjs(b.release_date).$M) {\r\n          return 1;\r\n        } else if (dayjs(a.release_date).$M === dayjs(b.release_date).$M) {\r\n          if (dayjs(a.release_date).$D < dayjs(b.release_date).$D) {\r\n            return 1\r\n          } else if (dayjs(a.release_date).$D === dayjs(b.release_date).$D) {\r\n            return 0;\r\n          } else {\r\n            return -1;\r\n          }\r\n        } else {\r\n          return -1;\r\n        }\r\n      } else {\r\n        return -1;\r\n      }\r\n    }).filter(movie => dayjs(movie.release_date).$y > 2021);\r\n  };\r\n  if (!!movies && movies.length > 0) filteredMovies = filteredMovies.filter(movie => movie.poster_path !== null).slice(0, 10);\r\n  \r\n  \r\n  return (\r\n    <div className={styles.movieList}>\r\n      {isLoading && <p>Loading...</p>}\r\n      {!!movies && filteredMovies.map(movie => {\r\n        return (\r\n          <MovieListItem key={movie.id} movie={movie} />\r\n        )\r\n      })}\r\n      {!!movies && movies.length < 1 && <p>No data.</p>}\r\n      {error && <p>Error: {error.message}</p>}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default MovieList;","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { FiSend } from 'react-icons/fi';\r\nimport styles from './CommentForm.module.scss';\r\nimport { useFirestore } from '../../contexts/firebase/firestore.context';\r\n\r\nconst CommentForm = ({subjectType, subjectId, colType = null, colId = null}) => {\r\n  const [dbComment, setDbComment] = useState();\r\n  const { addCommentToRef } = useFirestore();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.target);\r\n    let commentData = [];\r\n    for (let entry of data) {\r\n      const [, value] = entry;\r\n      commentData.push(value);\r\n    };\r\n    // console.log(commentData)\r\n    const [ comment ] = commentData;\r\n    const d = Date.now();\r\n    const commentBody = {\r\n      createdAt: d,\r\n      deletedAt: null,\r\n      modifiedAt: null,\r\n      spammedDate: null,\r\n      text: comment\r\n    };\r\n    setDbComment(commentBody);\r\n  };\r\n\r\n  const fetchData = useCallback(\r\n    async () => {\r\n      console.log(dbComment)\r\n      try {\r\n        const data = await addCommentToRef(subjectType, (subjectId).toString(), colType, colId, dbComment);\r\n        console.log(data);\r\n        window.location.reload();\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    [addCommentToRef, dbComment, colId, colType, (subjectId).toString(), subjectType]\r\n  );\r\n\r\n  useEffect(() => {\r\n    !!dbComment && fetchData()\r\n  }, [fetchData]);\r\n\r\n  return (\r\n    <form className={styles.CommentForm} onSubmit={handleSubmit}>\r\n      <textarea name=\"commentText\" placeholder='Leave a comment...' required></textarea>\r\n      <button type=\"submit\" value=\"Submit\"><FiSend /></button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CommentForm\r\n","import React, { useCallback, useEffect, useState } from 'react'\r\nimport styles from './CommentListItem.module.scss';\r\nimport dayjs from 'dayjs';\r\nimport updateLocale from 'dayjs/plugin/updateLocale';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\ndayjs.extend(updateLocale);\r\ndayjs.extend(relativeTime);\r\nimport advancedFormat from 'dayjs/plugin/customParseFormat';\r\ndayjs.extend(advancedFormat);\r\n\r\nimport { useFirestore } from '../../contexts/firebase/firestore.context';\r\nimport { CommentForm, CommentList } from './';\r\n\r\nconst CommentListItem = ({comment, subjectId, subjectType}) => {\r\n\r\n  const [replyClicked, setReplyClicked] = useState(false);\r\n  const [readMore, setReadMore] = useState(false);\r\n\r\n  const handleReply = (e) => {\r\n    setReplyClicked(!replyClicked);\r\n  }\r\n\r\n  const handleReadMore = (e) => {\r\n    setReadMore(!readMore);\r\n  }\r\n\r\n  const [comments, setComments] = useState();\r\n  const { getCommentComments } = useFirestore();\r\n\r\n  const fetchData = useCallback(\r\n    async () => {\r\n      try {\r\n        const dbComments = await getCommentComments(subjectType, subjectId, (comment.uid).toString());\r\n        setComments(dbComments);\r\n      } catch (err) {\r\n        console.error(err, (comment.uid).toString())\r\n      }\r\n    },\r\n    [getCommentComments, (comment.uid).toString()]\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n  }, [fetchData]);\r\n\r\n  return (\r\n    <div className={styles.CommentListItem}>\r\n      <p>Posted on: <strong>{dayjs(new Date(comment.createdAt)).fromNow()}</strong></p>\r\n      {!readMore && <p>{(comment.text).slice(0,140)}</p>}\r\n      {!!readMore && comment.text.length > 140 && <p>{comment.text}</p>}\r\n      {comment.text.length > 140 && \r\n        <button className={styles.readMoreButton} onClick={handleReadMore}>{!readMore && 'Read more'}{!!readMore && 'Less'}</button>\r\n      }\r\n      <button className={styles.replyButton} onClick={handleReply}>{!replyClicked && 'Reply'}{!!replyClicked && 'Cancel'}</button>\r\n      {!!replyClicked && <CommentForm subjectType={subjectType} subjectId={(subjectId).toString()} colType='comments' colId={(comment.uid).toString()}/>}\r\n      {!!comments && comments.length > 0 && comments.map((comment, index) => <CommentList key={index} subjectType='comment' subjectId={comment.uid} comments={comments}/>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CommentListItem\r\n","import React from 'react';\r\nimport styles from './CommentList.module.scss';\r\nimport CommentForm from './CommentForm';\r\nimport CommentListItem from './CommentListItem';\r\n\r\nconst CommentList = ({comments, subjectType, subjectId, amount = null}) => {\r\n  if (!!comments && !!amount) comments.length = amount;\r\n  return (\r\n    <div>\r\n      <ul className={styles.commentList}>\r\n        {comments && comments.map((comment, index) => <CommentListItem key={index} comment={comment} subjectId={subjectId} subjectType={subjectType}/>)}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CommentList\r\n","import dayjs from 'dayjs';\r\nimport useFetch from '../../hooks/useFetch';\r\nimport styles from './Person.module.scss';\r\n\r\nconst Person = ({ person }) => {\r\n  const [data, isLoading, error] = useFetch(`person/${person.id}`);\r\n  return (\r\n    <article className={styles.person}>\r\n      <picture className={styles.picture}>\r\n        <img src={`https://themoviedb.org/t/p/w600_and_h900_bestv2${person.profile_path}`} alt={person.name}/>\r\n      </picture>\r\n      <div className={styles.content}>\r\n        <h3 className={styles.title}>{person.name}</h3>\r\n        <span className={styles.rating}>{dayjs().$y - dayjs(data.birthday).$y}</span>\r\n      </div>\r\n      <footer className={styles.meta}>\r\n       {!!person.character && <span className={styles.numReviews}>{person.character}</span>} \r\n      </footer>\r\n    </article>\r\n  )\r\n};\r\n\r\nexport default Person;","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { FiSend } from 'react-icons/fi';\r\nimport { AiFillStar } from 'react-icons/ai'\r\nimport styles from './ReviewForm.module.scss';\r\nimport { useFirestore } from '../../contexts/firebase/firestore.context';\r\n\r\nconst ReviewForm = ({subjectId, subjectType}) => {\r\n  const [dbReview, setDbReview] = useState();\r\n  const { addMovieReview, addTvShowReview } = useFirestore();\r\n  const [rating, setRating] = useState(5);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.target);\r\n    let reviewData = [];\r\n    for (let entry of data) {\r\n      const [, value] = entry;\r\n      reviewData.push(value);\r\n    };\r\n    const [ rating, title, review ] = reviewData;\r\n    const d = Date.now();\r\n    const reviewBody = {\r\n      createdAt: d,\r\n      deletedAt: null,\r\n      modifiedAt: null,\r\n      rating: rating,\r\n      title: title,\r\n      review: review\r\n    };\r\n    setDbReview(reviewBody);\r\n  };\r\n\r\n  const handleRatingChange = (e) => {\r\n    setRating(e.target.value);\r\n  }\r\n\r\n  const fetchData = useCallback(\r\n    async () => {\r\n      console.log(dbReview)\r\n      try {\r\n        if (subjectType === 'movie') {\r\n          const data = await addMovieReview((subjectId).toString(), dbReview);\r\n        }\r\n        if (subjectType === 'tv') {\r\n          const data = await addTvShowReview((subjectId).toString(), dbReview);\r\n        }\r\n        window.location.reload();\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    [addMovieReview, addTvShowReview, dbReview, (subjectId).toString(), subjectType]\r\n  );\r\n\r\n  useEffect(() => {\r\n    !!dbReview && fetchData()\r\n  }, [fetchData]);\r\n\r\n  return (\r\n    <form className={styles.ReviewForm} onSubmit={handleSubmit}>\r\n      <div className={styles.reviewElements}>\r\n        <div className={styles.reviewRating}>\r\n          <label htmlFor=\"rating\">{rating} <AiFillStar /></label>\r\n          <input type=\"range\" min=\"0\" max=\"5\" name=\"rating\" onChange={handleRatingChange}/>\r\n        </div>\r\n        <div className={styles.reviewTitle}>\r\n          <label htmlFor=\"title\">Title</label>\r\n          <input type=\"text\" name=\"title\" placeholder=\"Your title\"></input>\r\n        </div>\r\n      </div>\r\n      <textarea name=\"reviewText\" placeholder='Your message...' required></textarea>\r\n      <button type=\"submit\" value=\"Submit\"><FiSend /></button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ReviewForm\r\n","import React, { useCallback, useEffect, useState } from 'react'\r\nimport { AiFillStar, AiOutlineStar } from 'react-icons/ai'\r\n\r\nimport styles from './ReviewListItem.module.scss';\r\nimport dayjs from 'dayjs';\r\nimport updateLocale from 'dayjs/plugin/updateLocale';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\ndayjs.extend(updateLocale);\r\ndayjs.extend(relativeTime);\r\nimport advancedFormat from 'dayjs/plugin/customParseFormat';\r\ndayjs.extend(advancedFormat);\r\n\r\nconst ReviewListItem = ({review}) => {\r\n  const [readMore, setReadMore] = useState(false);\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    setReadMore(!readMore);\r\n  }\r\n  \r\n\r\n  let ratingArr = [, , , , ];\r\n  for (let i = 0; i < review.rating; i++) {\r\n    ratingArr.push(<AiFillStar key={i}/>)\r\n  }\r\n  for (let i = 0; i < (5 - review.rating); i++) {\r\n    ratingArr.push(<AiOutlineStar key={review.rating + i} />)\r\n  }\r\n\r\n  return (\r\n    <article className={styles.ReviewListItem}>\r\n      <header className={styles.reviewHeader}>\r\n        <div className={styles.reviewRating}>{ratingArr.map((ratingIcon) => ratingIcon)}</div>\r\n        <h3 className={styles.reviewTitle}>{(review.title).normalize()}</h3>\r\n      </header>\r\n      <p>Posted on: <strong>{dayjs(new Date(review.createdAt)).fromNow()}</strong></p>\r\n      {!readMore && <p>{review.review.slice(0,140)}...</p>}\r\n      {!!readMore && <p>{review.review}</p>}\r\n      <button onClick={handleClick} type=\"button\" className={styles.readMore}>{!readMore && 'Read more'}{!!readMore && 'Hide'}</button>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default ReviewListItem\r\n","import React from 'react'\r\nimport styles from './ReviewList.module.scss';\r\nimport ReviewListItem from './ReviewListItem';\r\n\r\nconst ReviewList = ({reviews, amount = null}) => {\r\n  if (!!reviews && !!amount) reviews.length = amount;\r\n  return (\r\n    <div>\r\n      <h3>Reviews</h3>\r\n      <ul className={styles.reviewList}>\r\n        {!!reviews && reviews.map((review) => <ReviewListItem key={review.uid} review={review}/>)}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ReviewList\r\n","import { useCallback, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FiEye } from \"react-icons/fi\";\r\nimport { VscPreview } from \"react-icons/vsc\";\r\n\r\n\r\nimport { useFirestore } from '../../contexts/firebase/firestore.context';\r\nimport * as Routes from '../../routes';\r\nimport { useAuth } from '../../contexts/firebase/auth.context';\r\nimport { CommentForm, CommentList } from '../comments';\r\nimport Person from '../people/Person';\r\nimport { ReviewForm, ReviewList } from '../reviews';\r\nimport useFetch from '../../hooks/useFetch'\r\nimport styles from './MovieDetails.module.scss';\r\n\r\nconst MovieDetails = ({ id }) => {\r\n  const {currentUser} = useAuth();\r\n  const [movie, isLoading, error] = useFetch(`/movie/${id}`, 'append_to_response=videos,images,credits,keywords,recommendations');\r\n  const [watchProviders, watchProvidersLoading, watchProvidersError] = useFetch(`movie/${id}/watch/providers`);\r\n\r\n  const [showAddReview, setShowAddReview] = useState(false);\r\n  const [dbMovie, setDbMovie] = useState();\r\n  const [movieComments, setMovieComments] = useState();\r\n  const [movieReviews, setMovieReviews] = useState();\r\n  const { getMovieById, getMovieComments, getMovieReviews } = useFirestore();\r\n  \r\n    const fetchData = useCallback(\r\n      async () => {\r\n          try {\r\n            const movieData = await getMovieById((id).toString());\r\n            setDbMovie(movieData);\r\n            const commentData = await getMovieComments((id).toString());\r\n            setMovieComments(commentData);\r\n            const reviewData = await getMovieReviews((id).toString());\r\n            setMovieReviews(reviewData);\r\n          } catch (err) {\r\n            console.error(err, (id).toString())\r\n          }\r\n        },\r\n        [getMovieById, (id).toString()]);\r\n\r\n    useEffect(() => {\r\n      fetchData()\r\n    }, [fetchData]);\r\n\r\n  const handleShowAddReview = (e) => {\r\n    setShowAddReview(!showAddReview);\r\n  }\r\n\r\n  const Video = ({video}) => {\r\n    return (\r\n      <div className={styles.videoContainer}>\r\n        <iframe width=\"560\" height=\"349\" src={`https://www.youtube.com/embed/${video.key}`} title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\r\n      </div>)\r\n  }\r\n\r\n  return (\r\n    <div className={styles.movie}>\r\n      {movie &&\r\n      <div className={styles.movielistItemContainer}>\r\n        <article className={styles.movielistItem}>\r\n          <div className={styles.visualInfo}>\r\n            <picture className={styles.picture}>\r\n              <img src={`https://www.themoviedb.org/t/p/w600_and_h900_bestv2/${movie.poster_path}`} alt={movie.title} />\r\n            </picture>\r\n            <div className={styles.content}>\r\n              {<span className={styles.rating}>{movie.vote_average * 10}<sup>%</sup></span>}\r\n              <h3 className={styles.title}>{ movie.title }</h3>\r\n            </div>   \r\n            <footer className={styles.meta}>\r\n              {dbMovie && <span className={styles.numReviews}><VscPreview /><span>{ dbMovie.numReviews }</span></span>}\r\n              {dbMovie && <span className={styles.numViews}><FiEye /><span>{ dbMovie.numViews }</span></span>}\r\n            </footer>\r\n            {movie.videos && <Video video={movie.videos.results[0]}/>}\r\n          </div>\r\n          <div className={styles.textInfo}>\r\n            <h1>{movie.title}</h1>\r\n            <ul className={styles.tagsList}>\r\n              {!!movie.keywords && !!movie.keywords.keywords && movie.keywords.keywords.map(keyword => <li className={styles.tag} key={keyword.id}>{keyword.name}</li>)}\r\n            </ul>\r\n            <h2>{movie.tagline}</h2>\r\n            <a href={movie.homepage} title={movie.title}>{movie.title} homepage</a>\r\n            {!!watchProviders & !!watchProviders.results && watchProviders.results.BE && watchProviders.results.BE.flatrate && \r\n              <div className={styles.watch}>\r\n                <p>Links: </p> \r\n                <a href={watchProviders.results.BE.link}><img className={styles.providerLogo} src={`https://www.themoviedb.org/t/p/original${watchProviders.results.BE.flatrate[0].logo_path}`} alt={watchProviders.results.BE.flatrate[0].provider_name}/></a>\r\n                {/* <a href={} */}\r\n              </div>}\r\n            <h2>Synopsis:</h2>\r\n            <p>{movie.overview}</p>\r\n            <h2>Top Cast</h2>\r\n            <div className={styles.people}>\r\n              {!!movie.credits && movie.credits.cast && movie.credits.cast.slice(0,3).map(person => <Person key={person.id} person={person}/>)}\r\n            </div>\r\n          </div>\r\n        </article>\r\n        <h3 className={styles.recommendationsTitle}>If you liked <em>{movie.title}</em>, look out for these movies</h3>\r\n        <div className={styles.recommendedMoviesList}>\r\n          {!!movie.recommendations && !!movie.recommendations.results && \r\n            movie.recommendations.results.map(\r\n              rec => \r\n                <Link key={rec.id} to={Routes.MOVIE_DETAILS.replace(':id', rec.id)}>\r\n                  <img className={styles.movieImg} src={`https://www.themoviedb.org/t/p/w600_and_h900_bestv2/${rec.poster_path}`} key={rec.id} alt={rec.title} />\r\n                </Link> \r\n              )}\r\n        </div>\r\n        {!!currentUser && \r\n        <div className={styles.review}>\r\n          <img className={styles.user__avatar} src={`https://robohash.org/${currentUser.id}?gravatar=hashed`} alt='User avatar'/>\r\n          <button className={styles.leaveReviewButton} onClick={handleShowAddReview}>Add a review</button>\r\n          {showAddReview && <ReviewForm subjectId={id} subjectType='movie' />}\r\n        </div>\r\n        }\r\n        <ReviewList reviews={movieReviews} amount={3}/>\r\n        <h3>Comments</h3>\r\n        <CommentForm subjectId={id} subjectType='movies' />\r\n        <CommentList key={id} comments={movieComments} subjectType='movies' subjectId={id} amount={3}/>\r\n        \r\n      </div>\r\n      }\r\n      {isLoading && <p>Loading...</p>}\r\n      {error && <p>Error! {error.message}</p>}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default MovieDetails;","import React, { useEffect, useState } from 'react'\r\nimport useFetch from '../../hooks/useFetch';\r\nimport styles from './MovieFilters.module.scss';\r\n\r\nconst MovieFilters = ({onFiltersChange}) => {\r\n  const [genreData, genreLoading, genreLoadError] = useFetch('genre/movie/list');\r\n  const [keywordQuery, setKeywordQuery] = useState('');\r\n  const [genreIds, setGenreIds] = useState();\r\n  // const [ratingValues, setRatingValues] = useState();\r\n\r\n  let genres = [];\r\n  if (!!genreData && !!genreData.genres) {\r\n    for (let i = 0; i < genreData.genres.length; i++) {\r\n      genres.push(<div className={styles.filterOptions} key={i}>\r\n      <input type=\"checkbox\" id={genreData.genres[i].name} name=\"genre\" value={genreData.genres[i].id}/>\r\n      <label htmlFor={genreData.genres[i].name}>{genreData.genres[i].name}</label>\r\n      </div>)\r\n    }\r\n  };\r\n\r\n  const handleApplyFilters = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.target);\r\n    let formHasGenres = false;\r\n    let formHasKeywordQuery = false;\r\n    for (let entry of data) {\r\n      const [key, ] = entry;\r\n      if (key == 'genre') formHasGenres = true;\r\n      if (key == 'searchKeyword') formHasKeywordQuery = true;\r\n    }\r\n    \r\n    if (!!formHasGenres) { \r\n      setGenreIds(data.getAll('genre'))\r\n    } else {\r\n      setGenreIds();\r\n    }\r\n\r\n    if (!!formHasKeywordQuery) {\r\n      setKeywordQuery(data.getAll('searchKeyword'))\r\n    } else {\r\n      setKeywordQuery('');\r\n    }\r\n    getFilterString();\r\n  };\r\n\r\n  const getFilterString = (keywordQuery, genreIds) => {\r\n    const filterObj = {\r\n      query: keywordQuery,\r\n      genres: genreIds\r\n    }\r\n    return filterObj;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (typeof onFiltersChange === 'function') {\r\n      let filters = getFilterString(keywordQuery, genreIds);\r\n      onFiltersChange(filters)\r\n    }\r\n  }, [genreIds, keywordQuery]);\r\n\r\n  return (\r\n    <form name=\"filtersForm\" onSubmit={handleApplyFilters}>\r\n      <h2>Filter</h2>\r\n      <h3>By search term</h3>\r\n        <input type=\"search\" name=\"searchKeyword\" placeholder=\"Search for a movie...\"></input>\r\n        <button type=\"submit\" className=\"applyFilterButton\" key=\"button1\">Apply Filters</button>\r\n      <h3>By genre</h3>\r\n        {!!genres && genres.map((genre, index) => genre)}\r\n      {/* <h3>By rating</h3> */}\r\n\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default MovieFilters","import React, { useEffect, useState } from 'react';\r\nimport { appConfig } from '../../config';\r\n// import useFetch from '../../hooks/useFetch';\r\n\r\nimport MovieFilters from './MovieFilters';\r\nimport MovieListItem from './MovieListItem';\r\nimport styles from './MovieList.module.scss';\r\n\r\nconst MovieList = () => {\r\n  const [filters, setFilters] = useState();\r\n  const [data, setData] = useState([]);\r\n  const [error, setError] = useState();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  let fetchPath, fetchArgs = '';\r\n  if (!!filters && !!filters.query[0] != '') {\r\n    fetchPath = 'search/movie';\r\n    fetchArgs = `&query='${filters.query[0]}'`\r\n  } else if (!!filters && !!filters.genres && filters.genres.length > 0) {\r\n    fetchPath = 'discover/movie';\r\n    fetchArgs = `&with_genres=${(filters.genres).join(',')}`\r\n  } else {\r\n    fetchPath = 'discover/movie';\r\n    fetchArgs = '';\r\n  };\r\n\r\n  const handleFiltersChange = (filters) => {\r\n    setFilters(filters);\r\n  };\r\n\r\n  let apiUrl = `https://api.themoviedb.org/3/${fetchPath}?api_key=${appConfig.tmdbApiKey}${fetchArgs}`;\r\n\r\n  const getData = async () => {\r\n    try {\r\n      const response = await fetch(apiUrl);\r\n      const jsonData = await response.json();\r\n      setData(jsonData);\r\n    } catch (error) {\r\n      setError(error)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [apiUrl])\r\n\r\n  const movies = data.results;\r\n\r\n    return (\r\n      <div className={styles.moviesContainer}>\r\n      <section className={styles.filters}>\r\n        <MovieFilters onFiltersChange={handleFiltersChange}/>\r\n      </section>\r\n      <section className={styles.results}>\r\n        <h1>Movies</h1>\r\n        <div className={styles.movieList}> \r\n          { isLoading && <p> Loading... </p>} \r\n          {!!movies && movies.map(movie => {\r\n                return (\r\n                  <MovieListItem key={movie.id} movie={movie} />\r\n                )\r\n              })\r\n          } \r\n          { !!movies && movies.length < 1 && <p>No data.</p>}\r\n          { error && <p>Error: {error.message}</p>} \r\n        </div>\r\n      </section>\r\n      </div>\r\n  )\r\n};\r\n\r\nexport default MovieList;","import React from 'react'\r\nimport useFetch from '../../hooks/useFetch';\r\nimport styles from './MovieTrailer.module.scss';\r\n\r\nconst MovieTrailer = ({id}) => {\r\n  const [movie, isLoading, error] = useFetch(`/movie/${id}`, '&append_to_response=videos,images');\r\n  \r\n  const Video = ({video}) => {\r\n    return (\r\n      <div className={styles.videoContainer}>\r\n        <iframe width=\"100%\" height=\"100%\" src={`https://www.youtube.com/embed/${video.key}`} title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\r\n      </div>\r\n    )\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <p>Loading...</p>}\r\n      {!!movie && !!movie.videos && movie.videos.results.length > 0 && <Video video={movie.videos.results[0]}/>}\r\n      {!movie.videos && <p>No video</p>}\r\n      {error && <p>Error: Movie not found. {error.message}</p>}\r\n    </>\r\n  )\r\n  \r\n}\r\n\r\nexport default MovieTrailer\r\n","import React from 'react'\r\nimport useFetch from '../../hooks/useFetch';\r\nimport MovieTrailer from './MovieTrailer';\r\nimport styles from './MovieTrailers.module.scss';\r\n\r\nconst MovieTrailers = () => {\r\n  const [data, isLoading, error] = useFetch('discover/movie', '&sort_by=popularity.desc')\r\n  let results = data.results;\r\n  let movies = [];\r\n  if (!!results) movies = results.slice(0,6)\r\n\r\n  return (\r\n    <div className={styles.movieTrailers}>\r\n      {isLoading && <p>Loading...</p>}\r\n      {!!movies && movies.map(movie => <MovieTrailer key={movie.id} id={movie.id}/>)}\r\n      {error && <p>Error. Could not load movies. {error.message}</p>}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default MovieTrailers\r\n","import { useCallback, useEffect, useState } from 'react';\r\nimport { useFirestore } from '../../contexts/firebase/firestore.context';\r\nimport { FiEye } from \"react-icons/fi\";\r\nimport { VscPreview } from \"react-icons/vsc\";\r\nimport { Link } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\n\r\nimport * as Routes from '../../routes';\r\nimport styles from './ShowListItem.module.scss';\r\n\r\nconst ShowListItem = ({ show }) => {\r\n  const [tvShow, setTvShow] = useState();\r\n  const { getTvShowById } = useFirestore();\r\n    \r\n  const fetchData = useCallback(\r\n    async () => {\r\n      try {\r\n        const data = await getTvShowById((show.id).toString());\r\n        setTvShow(data);\r\n      } catch (err) {\r\n        // Stop the app from throwing errors when a show is not in the firestore database\r\n      }\r\n    },\r\n    [getTvShowById, (show.id).toString()]);\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n  }, [fetchData]);\r\n    \r\n  const parseReleaseDate = (date) => {\r\n    return (dayjs(date)).format('DD/MM/YYYY');\r\n  };\r\n\r\n  return (\r\n    <article className={styles.showlistItem}>\r\n      <Link to={Routes.TVSHOW_DETAILS.replace(':id', show.id)}>\r\n      <picture className={styles.picture}>\r\n        {!!show.poster_path && <img src={`https://www.themoviedb.org/t/p/w600_and_h900_bestv2/${show.poster_path}`} alt={show.name} />}\r\n        {!(!!show.poster_path) && <img src='https://api.acomart.tv/images/video-placeholder.jpg' alt={show.name} />}\r\n      </picture>\r\n      <div className={styles.content}>\r\n        <span className={styles.rating}>{show.vote_average * 10}<sup>%</sup></span>\r\n        <h3 className={styles.title}>{ show.name }</h3>\r\n        <p>First aired on: {parseReleaseDate(show.first_air_date)}</p>\r\n      </div>   \r\n      <footer className={styles.meta}>\r\n        {tvShow && <span className={styles.numReviews}><VscPreview /><span>{ tvShow.numReviews }</span></span>}\r\n        {!tvShow && <span className={styles.numReviews}><VscPreview /><span>{ show.vote_count }</span></span>}\r\n        {tvShow && <span className={styles.numViews}><FiEye /><span>{ tvShow.numViews }</span></span>}\r\n        {!tvShow && <span className={styles.numViews}><FiEye /><span>{ Math.round(show.popularity)}</span></span>}\r\n      </footer>   \r\n      </Link>\r\n    </article>\r\n  )\r\n};\r\n\r\nexport default ShowListItem;","import useFetch from '../../hooks/useFetch';\r\n\r\nimport ShowListItem from './ShowListItem';\r\nimport styles from './FilteredShowList.module.scss';\r\n\r\nconst ShowList = ({filter}) => {\r\n  const [data, isLoading, error] = useFetch('discover/tv', filter)\r\n  const tv = data.results;\r\n  let filteredShows = tv;\r\n  \r\n  if (filter.includes('first_air_date.gte=2021') && tv) {\r\n    let firstFilter = tv.sort(\r\n      (a, b) => \r\n      a.first_air_date.split('-')[0] > b.first_air_date.split('-')[0]\r\n    );\r\n    filteredShows = firstFilter.filter(show => parseInt(show.first_air_date_year) !== 1970)\r\n  };\r\n  if (!!tv && tv.length > 0) filteredShows = filteredShows.filter(show => show.poster_path !== null)//.slice(0, 6); \r\n  \r\n  return (\r\n    <div className={styles.showList}>\r\n      {isLoading && <p>Loading...</p>}\r\n      {!!tv && filteredShows.map(show => {\r\n        return (\r\n          <ShowListItem key={show.id} show={show} />\r\n        )\r\n      })}\r\n      {!!tv && tv.length < 1 && <p>No data.</p>}\r\n      {error && <p>Error: {error.message}</p>}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ShowList;","import { useCallback, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FiEye } from \"react-icons/fi\";\r\nimport { VscPreview } from \"react-icons/vsc\";\r\nimport { useFirestore } from '../../contexts/firebase/firestore.context';\r\n\r\nimport useFetch from '../../hooks/useFetch';\r\nimport * as Routes from '../../routes';\r\nimport { useAuth } from '../../contexts/firebase/auth.context';\r\nimport styles from './ShowDetails.module.scss';\r\nimport Person from '../people/Person';\r\nimport { CommentForm, CommentList } from '../comments';\r\nimport { ReviewForm, ReviewList } from '../reviews';\r\n\r\nconst ShowDetails = ({ id }) => {\r\n  const {currentUser} = useAuth();\r\n  const [show, showIsLoading, showError] = useFetch(`/tv/${id}`, 'append_to_response=videos,image,credits,keywords,similar');\r\n  const [watchProviders, watchProvidersLoading, watchProvidersError] = useFetch(`tv/${id}/watch/providers`);\r\n\r\n  const [tvShow, setTvShow] = useState();\r\n  const [tvShowComments, setTvShowComments] = useState();\r\n  const [tvShowReviews, setTvShowReviews] = useState();\r\n  const [showAddReview, setShowAddReview] = useState(false);\r\n\r\n  const handleShowAddReview = (e) => {\r\n    setShowAddReview(!showAddReview);\r\n  }\r\n\r\n  const { getTvShowById, getTvShowComments, getTvShowReviews } = useFirestore();\r\n    \r\n  const fetchData = useCallback(\r\n    async () => {\r\n      try {\r\n        const tvShowData = await getTvShowById((id).toString());\r\n        setTvShow(tvShowData);\r\n        const commentsData = await getTvShowComments((id).toString());\r\n        setTvShowComments(commentsData);\r\n        const showReviews = await getTvShowReviews((id).toString());\r\n        setTvShowReviews(showReviews);\r\n      } catch (err) {\r\n        console.error(err, (id).toString())\r\n      }\r\n    },\r\n    [getTvShowById, getTvShowComments, getTvShowReviews, (id).toString()]\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n  }, [fetchData]);\r\n\r\n  const Video = ({video}) => {\r\n    return (\r\n      <div className={styles.videoContainer}>\r\n        <iframe width=\"560\" height=\"349\" src={`https://www.youtube.com/embed/${video.key}`} title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\r\n      </div>)\r\n  }\r\n  return (\r\n    <div className={styles.tvShow}>\r\n      {show && \r\n      <article className={styles.showlistItem}>\r\n        <div className={styles.visualInfo}>\r\n          <picture className={styles.picture}>\r\n            <img src={`https://www.themoviedb.org/t/p/w600_and_h900_bestv2/${show.poster_path}`} alt={show.title} />\r\n          </picture>\r\n          <div className={styles.content}>\r\n            <span className={styles.rating}>{show.vote_average*10}<sup>%</sup></span>\r\n            <h3 className={styles.title}>{ show.title }</h3>\r\n          </div>   \r\n          {<footer className={styles.meta}>\r\n            {<span className={styles.numReviews}><VscPreview /><span>{ show.vote_count }</span></span>}\r\n            {<span className={styles.numViews}><FiEye /><span>{ Math.floor(show.popularity) }</span></span>}\r\n          </footer>}\r\n          {show.videos && <Video video={show.videos.results[0]}/>}\r\n        </div>\r\n        <div className={styles.textInfo}>\r\n          <h1>{show.name}</h1>\r\n          <ul className={styles.tagsList}>\r\n            {!!show.keywords && !!show.keywords.results && show.keywords.results.map(keyword => <li className={styles.tag} key={keyword.id}>{keyword.name}</li>)}\r\n          </ul>\r\n          <h2>{show.tagline}</h2>\r\n          <a href={show.homepage} title={show.name}>{show.name} homepage</a>\r\n          {!!watchProviders & !!watchProviders.results && watchProviders.results.BE && watchProviders.results.BE.flatrate && <div className={styles.watch}><p>Watch: </p> <a href={watchProviders.results.BE.link}><img className={styles.providerLogo} src={`https://www.themoviedb.org/t/p/original${watchProviders.results.BE.flatrate[0].logo_path}`} alt={watchProviders.results.BE.flatrate[0].provider_name}/></a></div>}\r\n          <h2>Synopsis:</h2>\r\n          <p>{show.overview}</p>\r\n          <h2>Top Cast</h2>\r\n          {<div className={styles.people}>\r\n              {!!show.credits && show.credits.cast && show.credits.cast.slice(0,3).map(person => <Person key={person.id} person={person}/>)}\r\n          </div>}\r\n        </div>\r\n      </article>}\r\n      <h3 className={styles.recommendationsTitle}>If you liked <em>{show.name}</em>, look out for these TV shows</h3>\r\n      {<div className={styles.recommendedMoviesList}>\r\n          {!!show.similar && !!show.similar.results && \r\n            show.similar.results.map(\r\n              rec => \r\n                <Link key={rec.id} to={Routes.TVSHOW_DETAILS.replace(':id', rec.id)}>\r\n                  <img className={styles.movieImg} src={`https://www.themoviedb.org/t/p/w600_and_h900_bestv2/${rec.poster_path}`} key={rec.id} alt={rec.title} />\r\n                </Link> \r\n              )}\r\n        </div>}\r\n      {!!currentUser && \r\n      <div className={styles.review}>\r\n        <img className={styles.user__avatar} src={`https://robohash.org/${currentUser.id}?gravatar=hashed`} alt='User avatar'/>\r\n        <button className={styles.leaveReviewButton} onClick={handleShowAddReview}>Add a review</button>\r\n        {!!showAddReview && <ReviewForm subjectId={id} subjectType='tv' />}\r\n      </div>}\r\n        {<ReviewList reviews={tvShowReviews} amount={3}/>}\r\n      <CommentForm subjectId={id} subjectType='tv' />\r\n      {<CommentList key={id} comments={tvShowComments} subjectType='tv' subjectId={id} amount={3}/>}\r\n      {showIsLoading && <p>Loading...</p>}\r\n      {showError && <p>Error! {showError.message}</p>}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ShowDetails;","import React, { useEffect, useState } from 'react'\r\nimport useFetch from '../../hooks/useFetch';\r\nimport styles from './ShowFilters.module.scss';\r\n\r\nconst ShowFilters = ({onFiltersChange}) => {\r\n  const [genreData, genreLoading, genreLoadError] = useFetch('genre/tv/list');\r\n  const [keywordQuery, setKeywordQuery] = useState('');\r\n  const [genreIds, setGenreIds] = useState();\r\n  // const [ratingValues, setRatingValues] = useState();\r\n  \r\n  let genres = [];\r\n  if (!!genreData && !!genreData.genres) {\r\n      for (let i = 0; i < genreData.genres.length; i++) {\r\n        genres.push(<div className={styles.filterOptions} key={i}>\r\n        <input type=\"checkbox\" id={genreData.genres[i].name} name=\"genre\" value={genreData.genres[i].id}/>\r\n        <label htmlFor={genreData.genres[i].name}>{genreData.genres[i].name}</label>\r\n        </div>)\r\n      }\r\n    }\r\n\r\n  const handleApplyFilters = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.target);\r\n    let formHasGenres = false;\r\n    let formHasKeywordQuery = false;\r\n    for (let entry of data) {\r\n      const [key, ] = entry;\r\n      if (key == 'genre') formHasGenres = true;\r\n      if (key == 'searchKeyword') formHasKeywordQuery = true;\r\n    }\r\n    \r\n    if (!!formHasGenres) { \r\n      setGenreIds(data.getAll('genre'))\r\n    } else {\r\n      setGenreIds();\r\n    }\r\n\r\n    if (!!formHasKeywordQuery) {\r\n      setKeywordQuery(data.getAll('searchKeyword'))\r\n    } else {\r\n      setKeywordQuery('');\r\n    }\r\n    getFilterString(keywordQuery, genreIds);\r\n  };\r\n\r\n  const getFilterString = (keywordQuery, genreIds) => {\r\n    const filterObj = {\r\n      query: keywordQuery,\r\n      genres: genreIds\r\n    }\r\n    return filterObj;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (typeof onFiltersChange === 'function') {\r\n      let filters = getFilterString(keywordQuery, genreIds);\r\n      onFiltersChange(filters)\r\n    }\r\n  }, [genreIds, keywordQuery]);\r\n\r\n  return (\r\n    <form name=\"filtersForm\" onSubmit={handleApplyFilters}>\r\n      <h2>Filter</h2>\r\n      <h3>By search term</h3>\r\n        <input type=\"search\" name=\"searchKeyword\" placeholder=\"Search for a movie...\"></input>\r\n        <button type=\"submit\" className=\"applyFilterButton\" key=\"button1\">Apply Filters</button>       \r\n      <h3>By genre</h3>\r\n        {!!genres && genres.map((genre, index) => genre)}\r\n      {/* <h3>By rating</h3> */}\r\n\r\n      \r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ShowFilters\r\n","import { useEffect, useState } from 'react';\r\nimport { appConfig } from '../../config';\r\nimport ShowFilters from './ShowFilters';\r\nimport ShowListItem from './ShowListItem';\r\nimport styles from './ShowList.module.scss';\r\n\r\nconst ShowList = () => {\r\n  const [filters, setFilters] = useState();\r\n  const [data, setData] = useState([]);\r\n  const [error, setError] = useState();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  let fetchPath, fetchArgs = '';\r\n  if (!!filters && !!filters.query[0] != '') {\r\n    fetchPath = 'search/tv';\r\n    fetchArgs = `&query='${filters.query[0]}'`\r\n  } else if (!!filters && !!filters.genres && filters.genres.length > 0) {\r\n    fetchPath = 'discover/tv';\r\n    fetchArgs = `&with_genres=${(filters.genres).join(',')}`\r\n  } else {\r\n    fetchPath = 'discover/tv';\r\n    fetchArgs = '';\r\n  };\r\n\r\n  const handleFiltersChange = (filters) => {\r\n    setFilters(filters);\r\n  };\r\n\r\n  let apiUrl = `https://api.themoviedb.org/3/${fetchPath}?api_key=${appConfig.tmdbApiKey}${fetchArgs}`;\r\n\r\n  const getData = async () => {\r\n    try {\r\n      const response = await fetch(apiUrl);\r\n      const jsonData = await response.json();\r\n      setData(jsonData);\r\n    } catch (error) {\r\n      setError(error)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [apiUrl])\r\n\r\n  const shows = data.results;\r\n\r\n  \r\n  return ( \r\n    <div className={styles.showsContainer}>\r\n    <section className={styles.filters}>\r\n      <ShowFilters onFiltersChange={handleFiltersChange}/>\r\n    </section>\r\n    <section className={styles.results}>\r\n      <h1>TV</h1>\r\n      <div className={styles.showList}> \r\n        { isLoading && <p> Loading... </p>} \r\n        {!!shows && shows.map(show => {\r\n              return (\r\n                <ShowListItem key={show.id} show={show} />\r\n              )\r\n            })\r\n        } \r\n        { !!shows && shows.length < 1 && <p>No data.</p>}\r\n        { error && <p>Error: {error.message}</p>} \r\n      </div>\r\n    </section>\r\n    </div>\r\n  )};\r\n\r\nexport default ShowList;","import { BaseLayout } from '../layouts';\r\nimport { MovieTrailers, FilteredMovieList } from '../components/movies';\r\nimport { FilteredShowList } from '../components/tv-shows';\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <BaseLayout>\r\n    <section className=\"movies\">\r\n      <h2>Movies</h2>\r\n      <h3>Popular Movies</h3>\r\n      <FilteredMovieList filter={'sort_by=popularity.desc'}/>\r\n\r\n      <h3>New Releases</h3>\r\n      <FilteredMovieList filter={'primary_release_year=2021'} />\r\n\r\n      <h3>Coming Soon</h3>\r\n      <FilteredMovieList filter={'sort_by=release_date.desc'} />\r\n\r\n      <h3>Popular Trailers</h3>\r\n      <MovieTrailers />\r\n    </section>\r\n    <section className=\"tv-shows\">\r\n      <h2>TV Shows</h2>\r\n      <h3>Popular TV Shows</h3>\r\n      <FilteredShowList filter='sort_by=popularity.desc'/>\r\n      \r\n      <h3>New TV Shows</h3>\r\n      <FilteredShowList filter='sort_by=first_air_date&first_air_date_year=2021&timezone=America%2FNew_York&language=en_US' />\r\n      \r\n      <h3>Airing Soon</h3>\r\n      <FilteredShowList filter='sort_by=first_air_date.desc&first_air_date.gte=2021&timezone=America%2FNew_York&language=en_US' />\r\n    </section>\r\n    </BaseLayout>\r\n  );\r\n};\r\n\r\nexport default HomePage;","import { useParams } from 'react-router-dom';\r\n\r\nimport { MovieDetails } from '../components/movies';\r\nimport { BaseLayout } from '../layouts';\r\n\r\nconst MoviePage = () => {\r\n  const { id } = useParams();\r\n  return (\r\n    <BaseLayout>\r\n      <MovieDetails id={id}/>\r\n    </BaseLayout>\r\n  );\r\n};\r\n\r\nexport default MoviePage;","import { MovieList } from '../components/movies';\r\nimport { BaseLayout } from '../layouts';\r\n\r\nconst MoviesPage = () => {\r\n  return (\r\n    <BaseLayout>\r\n      <MovieList />\r\n    </BaseLayout>\r\n  );\r\n};\r\n\r\nexport default MoviesPage;","import { useParams } from 'react-router-dom';\r\n\r\nimport { BaseLayout } from '../layouts';\r\nimport { ShowDetails } from '../components/tv-shows';\r\n\r\n\r\nconst ShowPage = () => {\r\n  const { id } = useParams();\r\n  return (\r\n    <BaseLayout>\r\n      <ShowDetails id={id}/>\r\n    </BaseLayout>\r\n  );\r\n};\r\n\r\nexport default ShowPage;","import { BaseLayout } from '../layouts';\r\nimport { ShowList } from '../components/tv-shows';\r\n\r\nconst ShowsPage = () => {\r\n  return (\r\n    <BaseLayout>\r\n        <ShowList />\r\n    </BaseLayout>\r\n  );\r\n};\r\n\r\nexport default ShowsPage;","import {useState} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styles from '../App.module.scss';\r\n\r\nimport { useAuth } from '../contexts/firebase/auth.context';\r\n\r\nconst SignInPage = ({children}) => {\r\n  const history = useHistory();\r\n  const [signInForm, setSignInForm] = useState({\r\n    txtEmail: '',\r\n    txtPassword: ''\r\n  });\r\n  const {currentUser,signInWithEmailAndPassword,signOut} = useAuth();\r\n\r\n  const handleSubmit = async (ev) => {\r\n    ev.preventDefault();\r\n\r\n    const result = await signInWithEmailAndPassword(signInForm.txtEmail, signInForm.txtPassword);\r\n    history.goBack();\r\n  }\r\n\r\n  const handleInputChange = async (ev) => {\r\n    setSignInForm({\r\n      ...signInForm,\r\n      [ev.target.name]: ev.target.value\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div className={styles.pageSignIn}>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 offset-md-2 col-md-8 offset-lg-3 col-lg-6\">\r\n            <form onSubmit={(ev) => handleSubmit(ev)}>\r\n              <div className={styles.formGroup}>\r\n                <label htmlFor=\"txtEmail\">Email address</label>\r\n                <input type=\"email\" className=\"form-control\" id=\"txtEmail\" name=\"txtEmail\"  aria-describedby=\"emailHelp\" onChange={handleInputChange} value={signInForm.txtEmail} />\r\n                <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\r\n              </div>\r\n              <div className={styles.formGroup}>\r\n                <label htmlFor=\"txtPassword\">Password</label>\r\n                <input type=\"password\" className=\"form-control\" id=\"txtPassword\" name=\"txtPassword\" onChange={handleInputChange} value={signInForm.txtPassword} />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\">Sign In</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignInPage;","import { MdClose } from 'react-icons/md';\r\n\r\nimport React from 'react';\r\nimport styles from './SearchFilters.module.scss';\r\n\r\nconst SearchFilters = ({query}) => {\r\n  return (\r\n    <div className={styles.SearchFilters}>\r\n      <p>Showing results for:</p> \r\n      <strong>{query}<MdClose /></strong>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchFilters;\r\n","import { Person } from '../people';\r\nimport { MovieListItem } from '../movies';\r\nimport { ShowListItem } from '../tv-shows';\r\n\r\nconst SearchResultListItem = ({ result }) => {\r\n  // console.log(result);\r\n  switch (result.media_type) {\r\n    case 'person':\r\n      return <Person key={result.index} person={result} />\r\n      break;\r\n    case 'movie':\r\n      return <MovieListItem key={result.index} movie={result} />\r\n      break;\r\n    case 'tv':\r\n      return <ShowListItem key={result.index} show={result} />\r\n    default:\r\n      break;\r\n  }  \r\n}\r\n\r\nexport default SearchResultListItem;","import useFetch from '../../hooks/useFetch';\r\nimport styles from './SearchResultList.module.scss';\r\nimport SearchResultListItem from './SearchResultListItem';\r\n\r\nconst SearchResults = ({ query }) => {\r\n  const [results, isLoading, error] = useFetch('search/multi', `query=${encodeURI(query)}&language=en-US`);\r\n  // console.table(results.results);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.resultsList}>\r\n        {isLoading && <p>Loading...</p>}\r\n        {!!results && !!results.results && results.results.map(result => {\r\n          return (\r\n            <SearchResultListItem key={result.id} result={result} />\r\n          )\r\n          }\r\n        )}\r\n        {error && <p>Error: {error.message}</p>}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SearchResults;","import { useParams } from 'react-router-dom';\r\n\r\nimport { BaseLayout } from '../layouts';\r\nimport { SearchFilters, SearchResultList } from '../components/search';\r\n\r\nconst ResultsPage = () => {\r\n  const { query } = useParams();\r\n  \r\n  return (\r\n    <BaseLayout>\r\n      <SearchFilters query={query} />\r\n      <SearchResultList query={query} />\r\n    </BaseLayout>\r\n  );\r\n};\r\n\r\nexport default ResultsPage;","import { useState } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { AuthProvider, FirebaseProvider } from './contexts/firebase';\r\n\r\nimport * as Routes from './routes';\r\n\r\nimport styles from './App.module.scss';\r\nimport {\r\n  HomePage,\r\n  MoviePage,\r\n  MoviesPage,\r\n  ShowPage,\r\n  ShowsPage,\r\n  SignInPage,\r\n} from './pages';\r\nimport { ThemeContext } from './contexts/ThemeContext';\r\nimport { FirestoreProvider } from './contexts/firebase/firestore.context';\r\nimport ResultsPage from './pages/ResultsPage';\r\n\r\nfunction App() {\r\n  const [ theme, setTheme ] = useState('light');\r\n  return (\r\n    <ThemeContext.Provider value={{theme, setTheme}}>\r\n    <div className={styles.app} data-theme={theme}>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Movie Application</title>\r\n      </Helmet>\r\n      <FirebaseProvider>\r\n        <AuthProvider>\r\n          <FirestoreProvider>\r\n            <Router basename=\"\">\r\n              <Switch>\r\n                <Route exact path={Routes.LANDING} component={HomePage} />\r\n                <Route from={Routes.HOME} to={Routes.LANDING} />\r\n                <Route\r\n                  exact\r\n                  path={Routes.MOVIE_DETAILS}\r\n                  component={MoviePage}\r\n                />\r\n                <Route exact path={Routes.MOVIES} component={MoviesPage} />\r\n                <Route\r\n                  exact\r\n                  path={Routes.TVSHOW_DETAILS}\r\n                  component={ShowPage}\r\n                />\r\n                <Route exact path={Routes.TVSHOWS} component={ShowsPage} />\r\n                <Route\r\n                  exact\r\n                  path={Routes.AUTH_SIGN_IN}\r\n                  component={SignInPage}\r\n                />\r\n                <Route path={Routes.RESULTS} component={ResultsPage} />\r\n              </Switch>\r\n            </Router>\r\n          </FirestoreProvider>\r\n        </AuthProvider>\r\n      </FirebaseProvider>\r\n    </div>\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import App from './App';\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from '../src/app';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}