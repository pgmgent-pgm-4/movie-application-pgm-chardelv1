(this["webpackJsonpmovie-application-pgm-chardelv1"]=this["webpackJsonpmovie-application-pgm-chardelv1"]||[]).push([[0],[,,,,,,,,,,,function(e,t,r){e.exports={movielistItem:"MovieDetails_movielistItem__20xeX",visualInfo:"MovieDetails_visualInfo__P_mWQ",picture:"MovieDetails_picture__2qzFo",videoContainer:"MovieDetails_videoContainer__MAgiv",content:"MovieDetails_content__3w0v6",title:"MovieDetails_title__23HZG",watch:"MovieDetails_watch__CpQbo",providerLogo:"MovieDetails_providerLogo__1GLNP",meta:"MovieDetails_meta__2YlXr",rating:"MovieDetails_rating__2cD9w",textInfo:"MovieDetails_textInfo__3Obul",people:"MovieDetails_people__rGpki",tagsList:"MovieDetails_tagsList__2s0px",tag:"MovieDetails_tag__3txTS",recommendationsTitle:"MovieDetails_recommendationsTitle__y55UA",recommendedMoviesList:"MovieDetails_recommendedMoviesList__3xyNH",user__avatar:"MovieDetails_user__avatar__pcj4v"}},function(e,t,r){e.exports={tvShow:"ShowDetails_tvShow__3DZO8",showlistItem:"ShowDetails_showlistItem__3LRYa",visualInfo:"ShowDetails_visualInfo__1UW4U",picture:"ShowDetails_picture__28E6M",videoContainer:"ShowDetails_videoContainer__3Fsk1",content:"ShowDetails_content__24mJo",title:"ShowDetails_title__UJMF1",watch:"ShowDetails_watch__19toG",providerLogo:"ShowDetails_providerLogo__1ZSlE",meta:"ShowDetails_meta__2ht42",rating:"ShowDetails_rating__1yW_z",textInfo:"ShowDetails_textInfo__1HR4H",people:"ShowDetails_people__3ujkq",tagsList:"ShowDetails_tagsList__1bqqx",tag:"ShowDetails_tag__2Q-e1",recommendationsTitle:"ShowDetails_recommendationsTitle__z9BdU",recommendedMoviesList:"ShowDetails_recommendedMoviesList__TohaE",user__avatar:"ShowDetails_user__avatar__3ejAb"}},,,,,,,,,,,,function(e,t,r){e.exports={movielistItem:"MovieListItem_movielistItem__j1eIN",picture:"MovieListItem_picture__oRERc",content:"MovieListItem_content___X2XO",title:"MovieListItem_title__yu4p6",meta:"MovieListItem_meta__3HBB9",rating:"MovieListItem_rating__TvMor"}},function(e,t,r){e.exports={showlistItem:"ShowListItem_showlistItem__3mT3W",picture:"ShowListItem_picture__2rEf2",content:"ShowListItem_content__1qtex",title:"ShowListItem_title__3bx0f",meta:"ShowListItem_meta__VWP6M",rating:"ShowListItem_rating__3qLxl"}},,,function(e,t,r){e.exports={person:"Person_person__hSmaF",picture:"Person_picture__2sh6q",content:"Person_content__3mVaS",title:"Person_title__7ssL0",meta:"Person_meta__3juyC",rating:"Person_rating__2HKh0"}},,,function(e,t,r){e.exports={App:"App_App__3tesF",pageSignIn:"App_pageSignIn__ywfGZ",formGroup:"App_formGroup__KiX6O"}},function(e,t,r){e.exports={reviewHeader:"ReviewListItem_reviewHeader__3I5j_",reviewRating:"ReviewListItem_reviewRating__1kqAr"}},,,,function(e,t,r){e.exports={ReviewForm:"ReviewForm_ReviewForm__1U-52",reviewElements:"ReviewForm_reviewElements__psYY1",reviewRating:"ReviewForm_reviewRating__152wl",reviewTitle:"ReviewForm_reviewTitle__1ImSq"}},function(e,t,r){e.exports={moviesContainer:"MovieList_moviesContainer__10d7_",filters:"MovieList_filters__3CIL-",results:"MovieList_results__3oiNz",movieList:"MovieList_movieList__34BsK"}},function(e,t,r){e.exports={showsContainer:"ShowList_showsContainer__20x59",filters:"ShowList_filters__1-HFr",results:"ShowList_results__1kQvu",showList:"ShowList_showList__1zr4D"}},,,,,,,function(e,t,r){},function(e,t,r){e.exports={fullContainer:"NotFoundPage_fullContainer__18JJP",fof:"NotFoundPage_fof__25q8d",callToActions:"NotFoundPage_callToActions__3QEDn"}},,,,,,,,,,function(e,t,r){e.exports={footer:"Footer_footer__1VB1I"}},function(e,t,r){e.exports={themeToggler:"ThemeToggler_themeToggler__poRfp"}},function(e,t,r){e.exports={user__avatar:"MainNavigation_user__avatar__1W7UX"}},,function(e,t,r){e.exports={header:"Header_header__3bMw_"}},function(e,t,r){e.exports={main:"BaseLayout_main__1oaWc"}},function(e,t,r){e.exports={movieList:"FilteredMovieList_movieList__1J2LW"}},function(e,t,r){e.exports={CommentForm:"CommentForm_CommentForm__ZVhTk"}},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){e.exports={movielistItem:"MovieReviewListItem_movielistItem__OZfuE",picture:"MovieReviewListItem_picture__2YOow",content:"MovieReviewListItem_content__H4JgD",title:"MovieReviewListItem_title__3cPcP",meta:"MovieReviewListItem_meta__1_imf",rating:"MovieReviewListItem_rating__vDCyo"}},function(e,t,r){e.exports={videoContainer:"MovieTrailer_videoContainer__3ZS-4"}},function(e,t,r){e.exports={movieTrailers:"MovieTrailers_movieTrailers__9hF7B"}},function(e,t,r){e.exports={showList:"FilteredShowList_showList__IU3tp"}},function(e,t,r){},function(e,t,r){e.exports={showlistItem:"ShowReviewListItem_showlistItem__2Fk0N",picture:"ShowReviewListItem_picture__10W_7",content:"ShowReviewListItem_content__2-oAc",title:"ShowReviewListItem_title__32p9u",meta:"ShowReviewListItem_meta__4HJom",rating:"ShowReviewListItem_rating__1yzpZ"}},function(e,t,r){},,function(e,t,r){e.exports={resultsList:"SearchResultList_resultsList__1LxN-",movieList:"SearchResultList_movieList__2vjbD"}},,,,,function(e,t,r){},,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(3),a=r.n(n),s=r(52),c=r.n(s),i=(r(80),r(4)),o=r(53),l=r(13),u=r(14),j=r(5),d=r.n(j),m=r(7),b=(r(84),r(44)),h={tmdbApiKey:"77a730ff683e532669abfe709209746d"},p={apiKey:"AIzaSyC5vUCj6jFwycA4szyOPEkyr9KjY9SmU3s",authDomain:"pgm-pgm4-movie-app.firebaseapp.com",databaseURL:"https://pgm-pgm4-movie-app-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pgm-pgm4-movie-app",storageBucket:"pgm-pgm4-movie-app.appspot.com",messagingSenderId:"268222822149",appId:"1:268222822149:web:bbde0eaf717bd633e1296c"},v=r(1),x=Object(n.createContext)(null),O=function(){return Object(n.useContext)(x)},f=function(e){var t=e.children,r=Object(n.useState)(b.a.apps.length?b.a.app():b.a.initializeApp(p)),a=Object(i.a)(r,1)[0];return Object(v.jsx)(x.Provider,{value:{app:a},children:t})},_=Object(n.createContext)(null),g=function(){return Object(n.useContext)(_)},w=function(e){var t=e.children,r=Object(n.useState)(JSON.parse(localStorage.getItem("react-firebase-pgm-4:currentUser"))),a=Object(i.a)(r,2),s=a[0],c=a[1],o=O().app.auth();Object(n.useEffect)((function(){var e=o.onAuthStateChanged((function(e){localStorage.setItem("react-firebase-pgm-4:currentUser",JSON.stringify(e)),c(e)}));return function(){e()}}),[o]);var l=function(){var e=Object(m.a)(d.a.mark((function e(t,r,n,a){var s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={email:t,emailVerified:!1,password:r,displayName:n,photoUrl:a,disabled:!1},e.next=4,o.createUser(s);case 4:c=e.sent,console.log("Added user with email ".concat(t,". Returned id: ").concat(c.uid)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.signInWithEmailAndPassword(t,r);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("react-firebase-pgm-4:currentUser",null),e.next=3,o.signOut();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(_.Provider,{value:{currentUser:s,register:l,signInWithEmailAndPassword:u,signOut:j},children:t})},y="/",S="/movies",N="/movies/:id",I="/tv-shows",k="/tv-shows/:id",L="/search/:query",D="/auth/signin",M=r(31),C=r.n(M),T=r(56),R=r.n(T),A=function(){var e=(new Date).getFullYear();return Object(v.jsxs)("footer",{className:R.a.footer,children:[Object(v.jsxs)("p",{children:["Made by Charlotte Delvaux in ",e,Object(v.jsx)("br",{}),"for the course Programming 4",Object(v.jsx)("br",{})," in the Associate Degree in Computer Programming ",Object(v.jsx)("br",{})," at Artevelde University of Applied Sciences."]}),Object(v.jsxs)("div",{children:["Favicons made by ",Object(v.jsx)("a",{href:"",title:"photo3idea_studio",children:"photo3idea_studio"})," from ",Object(v.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})]})},F=r(17),E=a.a.createContext(),B=r(57),P=r.n(B),U=function(){var e=Object(n.useContext)(E),t=e.theme,r=e.setTheme;return Object(v.jsx)("button",{className:P.a.themeToggler,onClick:function(e){e.preventDefault(),r("light"===t?"dark":"light")},children:Object(v.jsx)("span",{role:"img","aria-label":"switch theme",children:"light"===t?"\ud83c\udf1e":"\ud83d\udd05"})})},q=r(58),$=r.n(q),V=function(){var e=g(),t=e.currentUser,r=e.signOut,a=Object(n.useState)(),s=Object(i.a)(a,2),c=s[0],o=s[1];return Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(l.b,{to:y,children:Object(v.jsx)("img",{src:"/static/media/mstile-150x150.png",alt:"Home"})})}),Object(v.jsx)("li",{children:Object(v.jsx)(l.b,{to:S,children:"Movies"})}),Object(v.jsx)("li",{children:Object(v.jsx)(l.b,{to:I,children:"TV-Shows"})}),Object(v.jsxs)("li",{children:[Object(v.jsx)("input",{type:"search",id:"search",name:"search",value:c,onChange:function(e){o(e.target.value)}}),Object(v.jsx)(l.b,{to:L.replace(":query",c),children:Object(v.jsx)(F.b,{})})]}),Object(v.jsx)("li",{children:t?Object(v.jsxs)("button",{href:"#",onClick:r,children:[Object(v.jsx)("img",{className:$.a.user__avatar,src:"https://robohash.org/".concat(t.id,"?gravatar=hashed"),alt:"User avatar"}),"Logout"]}):Object(v.jsx)(l.b,{to:D,children:"Sign In"})}),Object(v.jsx)("li",{children:Object(v.jsx)(U,{})})]})})},Y=r(60),H=r.n(Y),K=function(){return Object(v.jsx)("header",{className:H.a.header,children:Object(v.jsx)(V,{})})},W=r(61),z=r.n(W),J=function(e){var t=e.children;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(K,{}),Object(v.jsx)("main",{className:z.a.main,children:t}),Object(v.jsx)(A,{})]})},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="";""!==t&&(r="&".concat(t));var a=Object(n.useState)([]),s=Object(i.a)(a,2),c=s[0],o=s[1],l=Object(n.useState)(),u=Object(i.a)(l,2),j=u[0],b=u[1],p=Object(n.useState)(!0),v=Object(i.a)(p,2),x=v[0],O=v[1],f="https://api.themoviedb.org/3/".concat(e,"?api_key=").concat(h.tmdbApiKey).concat(r),_=function(){var e=Object(m.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f);case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,o(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),b(e.t0);case 13:return e.prev=13,O(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){_()}),[]),[c,x,j]},Z=r(26),X=r(9),Q=r.n(X),ee=r(19),te=(r(91),r(93)),re=a.a.createContext(null),ne=function(){return Object(n.useContext)(re)},ae=function(e){var t=e.children,r=O().app.firestore(),n=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.collection("movies").orderBy("createdAt","desc"),e.next=3,t.get();case 3:return n=e.sent,a=n.docs.map((function(e){return Object(ee.a)({uid:e.id},e.data())})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n,a,s,c,i,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:10,n=o.length>1&&void 0!==o[1]?o[1]:null,a=null,a=null===n?r.collection("movies").orderBy("createdAt","desc").limit(t):r.collection("movies").orderBy("createdAt","desc").startAfter(n).limit(t),e.next=6,a.get();case 6:return s=e.sent,c=s.docs[s.docs.length-1],i=s.docs.map((function(e){return Object(ee.a)({uid:e.id},e.data())})),e.abrupt("return",{movies:i,itemsPerPage:t,lastVisibleDoc:c});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(m.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.collection("movies").doc(t),e.next=3,n.get();case 3:if((a=e.sent).exists){e.next=6;break}throw new Error("Document does not exist!");case 6:return e.abrupt("return",Object(ee.a)({uid:a.id},a.data()));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(m.a)(d.a.mark((function e(t){var n,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.collection("movies").doc(t).collection("comments").orderBy("createdAt","desc"),e.next=3,n.get();case 3:return a=e.sent,s=a.docs.map((function(e){return Object(ee.a)({uid:e.id},e.data())})),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(m.a)(d.a.mark((function e(t){var n,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.collection("movies").doc(t).collection("reviews").orderBy("createdAt","desc"),e.next=3,n.get();case 3:return a=e.sent,s=a.docs.map((function(e){return Object(ee.a)({uid:e.id},e.data())})),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(m.a)(d.a.mark((function e(t,n){var a,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.collection("movies").doc(t).get();case 2:if(!(a=e.sent)||!a.exists){e.next=8;break}return e.next=6,a.ref.update({modifiedAt:new Date});case 6:e.next=10;break;case 8:return e.next=10,a.ref.set({id:t,createdAt:new Date,modifiedAt:null,deletedAt:null,name:null});case 10:return s=r.collection("movies").doc(t),c=s.collection("reviews").doc(Object(te.a)()),e.abrupt("return",r.runTransaction((function(e){return e.get(s).then((function(t){if(!t.exists)throw new Error("Document does not exist!");var r=t.data().numReviews+1,a=(t.data().avgRating*t.data().numReviews+n.rating)/r;e.update(s,{numReviews:r,avgRating:a}),e.set(c,n)}))})));case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.collection("tv").orderBy("createdAt","desc"),e.next=3,t.get();case 3:return n=e.sent,n.docs.map((function(e){return Object(ee.a)({uid:e.id},e.data())})),e.abrupt("return",movies);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n,a,s,c,i,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:10,n=o.length>1&&void 0!==o[1]?o[1]:null,a=null,a=null===n?r.collection("tv").orderBy("createdAt","desc").limit(t):r.collection("tv").orderBy("createdAt","desc").startAfter(n).limit(t),e.next=6,a.get();case 6:return s=e.sent,c=s.docs[s.docs.length-1],i=s.docs.map((function(e){return Object(ee.a)({uid:e.id},e.data())})),e.abrupt("return",{tvShows:i,itemsPerPage:t,lastVisibleDoc:c});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.collection("tv").doc(t),e.next=3,n.get();case 3:if((a=e.sent).exists){e.next=6;break}throw new Error("Document does not exist!");case 6:return e.abrupt("return",Object(ee.a)({uid:a.id},a.data()));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(m.a)(d.a.mark((function e(t){var n,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.collection("tv").doc(t).collection("reviews").orderBy("createdAt","desc"),e.next=3,n.get();case 3:return a=e.sent,s=a.docs.map((function(e){return Object(ee.a)({uid:e.id},e.data())})),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(d.a.mark((function e(t){var n,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.collection("tv").doc(t).collection("comments").orderBy("createdAt","desc"),e.next=3,n.get();case 3:return a=e.sent,s=a.docs.map((function(e){return Object(ee.a)({uid:e.id},e.data())})),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(m.a)(d.a.mark((function e(t,n,a){var s,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.collection(t).doc(n).collection("comments").doc(a).collection("comments").orderBy("createdAt","desc"),e.next=3,s.get();case 3:return c=e.sent,i=c.docs.map((function(e){return Object(ee.a)({uid:e.id},e.data())})),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(d.a.mark((function e(t,n){var a,s,c,i,o,l,u,j=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j.length>2&&void 0!==j[2]?j[2]:null,s=j.length>3&&void 0!==j[3]?j[3]:null,c=j.length>4?j[4]:void 0,e.next=5,r.collection(t).doc(n).get();case 5:if(!(i=e.sent)||!i.exists){e.next=11;break}return e.next=9,i.ref.update({modifiedAt:new Date,numComments:1});case 9:e.next=13;break;case 11:return e.next=13,i.ref.set({id:n,createdAt:new Date,modifiedAt:null,deletedAt:null,name:null,numComments:1});case 13:return o=r.collection(t).doc(n),a&&s?a&&s?(u=o.collection(a).doc(s.toString()),l=u.collection(a).doc(Object(te.a)())):console.log("this shouldn't happen"):l=o.collection("comments").doc(Object(te.a)()),e.abrupt("return",r.runTransaction((function(e){return e.get(o).then((function(t){if(!t.exists)throw new Error("Document does not exist!");var r=t.data().numComments+1;e.update(o,{numComments:r}),e.set(l,c)}))})));case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(m.a)(d.a.mark((function e(t,n){var a,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.collection("tv").doc(t).get();case 2:if(!(a=e.sent)||!a.exists){e.next=8;break}return e.next=6,a.ref.update({modifiedAt:new Date});case 6:e.next=10;break;case 8:return e.next=10,a.ref.set({id:t,createdAt:new Date,modifiedAt:null,deletedAt:null,name:null});case 10:return s=r.collection("tv").doc(t),c=s.collection("reviews").doc(Object(te.a)()),e.abrupt("return",r.runTransaction((function(e){return e.get(s).then((function(t){if(!t.exists)throw new Error("Document does not exist!");var r=t.data().numReviews+1,a=(t.data().avgRating*t.data().numReviews+n.rating)/r;e.update(s,{numReviews:r,avgRating:a}),e.set(c,n)}))})));case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(v.jsx)(re.Provider,{value:{addCommentToRef:x,addMovieReview:o,getPagedMovies:a,getMovieById:s,getMovieComments:c,getMovies:n,getMovieReviews:i,addTvShowReview:f,getPagedTvShows:u,getCommentComments:p,getTvShowComments:h,getTvShowById:j,getTvShows:l,getTvShowReviews:b},children:t})},se=r(24),ce=r.n(se),ie=function(e){var t=e.movie,r=(e.type,Object(n.useState)()),a=Object(i.a)(r,2),s=a[0],c=a[1],o=ne().getMovieById,u=Object(n.useCallback)(Object(m.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(t.id.toString());case 3:r=e.sent,c(r),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[o,t.id.toString()]);Object(n.useEffect)((function(){u()}),[u]);var j;return Object(v.jsx)("article",{className:ce.a.movielistItem,children:Object(v.jsxs)(l.b,{to:N.replace(":id",t.id),children:[Object(v.jsxs)("picture",{className:ce.a.picture,children:[!!t.poster_path&&Object(v.jsx)("img",{src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/".concat(t.poster_path),alt:t.title}),!t.poster_path&&Object(v.jsx)("img",{src:"https://api.acomart.tv/images/video-placeholder.jpg",alt:t.name})]}),Object(v.jsxs)("div",{className:ce.a.content,children:[Object(v.jsxs)("span",{className:ce.a.rating,children:[Math.floor(10*t.vote_average),Object(v.jsx)("sup",{children:"%"})]}),Object(v.jsx)("h3",{className:ce.a.title,children:t.title}),Object(v.jsxs)("p",{children:["Release date: ",(j=t.release_date,Q()(j).format("DD/MM/YYYY"))]})]}),Object(v.jsxs)("footer",{className:ce.a.meta,children:[s&&Object(v.jsxs)("span",{className:ce.a.numReviews,children:[Object(v.jsx)(Z.a,{}),Object(v.jsx)("span",{children:s.numReviews})]}),!s&&Object(v.jsxs)("span",{className:ce.a.numReviews,children:[Object(v.jsx)(Z.a,{}),Object(v.jsx)("span",{children:t.vote_count})]}),s&&Object(v.jsxs)("span",{className:ce.a.numViews,children:[Object(v.jsx)(F.a,{}),Object(v.jsx)("span",{children:s.numViews})]}),!s&&Object(v.jsxs)("span",{className:ce.a.numViews,children:[Object(v.jsx)(F.a,{}),Object(v.jsx)("span",{children:Math.round(t.popularity)})]})]})]})})},oe=r(62),le=r.n(oe),ue=function(e){var t=e.filter,r=G("discover/movie",t),n=Object(i.a)(r,3),a=n[0],s=n[1],c=n[2],o=a.results,l=o;return t.includes("primary_release_year=2021")&&o&&(l=l.sort((function(e,t){return Q()(e.release_date).$M<Q()(t.release_date).$M?1:Q()(e.release_date).$M===Q()(t.release_date).$M?Q()(e.release_date).$D<Q()(t.release_date).$D?1:Q()(e.release_date).$D===Q()(t.release_date).$D?0:-1:-1}))),t.includes("sort_by=release_date")&&o&&!t.includes("&release_year.lte")&&(l=l.sort((function(e,t){return Q()(e.release_date).$y>Q()(t.release_date).$y?1:Q()(e.release_date).$y===Q()(t.release_date).$y?Q()(e.release_date).$M<Q()(t.release_date).$M?1:Q()(e.release_date).$M===Q()(t.release_date).$M?Q()(e.release_date).$D<Q()(t.release_date).$D?1:Q()(e.release_date).$D===Q()(t.release_date).$D?0:-1:-1:-1})).filter((function(e){return Q()(e.release_date).$y>2021}))),o&&o.length>0&&(l=l.filter((function(e){return null!==e.poster_path})).slice(0,10)),Object(v.jsxs)("div",{className:le.a.movieList,children:[s&&Object(v.jsx)("p",{children:"Loading..."}),!!o&&l.map((function(e){return Object(v.jsx)(ie,{movie:e},e.id)})),!!o&&o.length<1&&Object(v.jsx)("p",{children:"No data."}),c&&Object(v.jsxs)("p",{children:["Error: ",c.message]})]})},je=r(27),de=r(63),me=r.n(de),be=function(e){var t=e.subjectType,r=e.subjectId,a=e.colType,s=void 0===a?null:a,c=e.colId,o=void 0===c?null:c,l=Object(n.useState)(),u=Object(i.a)(l,2),j=u[0],b=u[1],h=ne().addCommentToRef,p=Object(n.useCallback)(Object(m.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(j),e.prev=1,e.next=4,h(t,r.toString(),s,o,j);case 4:n=e.sent,console.log(n),window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),[h,j,o,s,r.toString(),t]);return Object(n.useEffect)((function(){j&&p()}),[p]),Object(v.jsxs)("form",{className:me.a.CommentForm,onSubmit:function(e){e.preventDefault();var t,r=new FormData(e.target),n=[],a=Object(je.a)(r);try{for(a.s();!(t=a.n()).done;){var s=t.value,c=Object(i.a)(s,2)[1];n.push(c)}}catch(u){a.e(u)}finally{a.f()}var o=n[0],l=Date.now();b({createdAt:l,deletedAt:null,modifiedAt:null,spammedDate:null,text:o})},children:[Object(v.jsx)("textarea",{name:"commentText",placeholder:"Leave a comment...",required:!0}),Object(v.jsx)("button",{type:"submit",value:"Submit",children:Object(v.jsx)(F.c,{})})]})},he=r(64),pe=r.n(he),ve=r(45),xe=r.n(ve),Oe=r(40),fe=r.n(Oe),_e=r(41),ge=r.n(_e),we=r(42),ye=r.n(we);Q.a.extend(fe.a),Q.a.extend(ge.a),Q.a.extend(ye.a);var Se=function(e){var t=e.comment,r=e.subjectId,a=e.subjectType,s=Object(n.useState)(!1),c=Object(i.a)(s,2),o=c[0],l=c[1],u=Object(n.useState)(!1),j=Object(i.a)(u,2),b=j[0],h=j[1],p=Object(n.useState)(),x=Object(i.a)(p,2),O=x[0],f=x[1],_=ne().getCommentComments,g=Object(n.useCallback)(Object(m.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(a,r,t.uid.toString());case 3:n=e.sent,f(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0,t.uid.toString());case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[_,t.uid.toString()]);return Object(n.useEffect)((function(){g()}),[g]),Object(v.jsxs)("div",{className:xe.a.CommentListItem,children:[Object(v.jsxs)("p",{children:["Posted on: ",Object(v.jsx)("strong",{children:Q()(new Date(t.createdAt)).fromNow()})]}),!b&&Object(v.jsx)("p",{children:t.text.slice(0,140)}),!!b&&t.text.length>140&&Object(v.jsx)("p",{children:t.text}),t.text.length>140&&Object(v.jsxs)("button",{className:xe.a.readMoreButton,onClick:function(e){h(!b)},children:[!b&&"Read more",!!b&&"Less"]}),Object(v.jsxs)("button",{className:xe.a.replyButton,onClick:function(e){l(!o)},children:[!o&&"Reply",!!o&&"Cancel"]}),!!o&&Object(v.jsx)(be,{subjectType:a,subjectId:r.toString(),colType:"comments",colId:t.uid.toString()}),!!O&&O.length>0&&O.map((function(e,t){return Object(v.jsx)(Ne,{subjectType:"comment",subjectId:e.uid,comments:O},t)}))]})},Ne=function(e){var t=e.comments,r=e.subjectType,n=e.subjectId,a=e.amount,s=void 0===a?null:a;return t&&s&&(t.length=s),Object(v.jsx)("div",{children:Object(v.jsx)("ul",{className:pe.a.commentList,children:t&&t.map((function(e,t){return Object(v.jsx)(Se,{comment:e,subjectId:n,subjectType:r},t)}))})})},Ie=r(28),ke=r.n(Ie),Le=function(e){var t=e.person,r=G("person/".concat(t.id)),n=Object(i.a)(r,3),a=n[0];n[1],n[2];return Object(v.jsxs)("article",{className:ke.a.person,children:[Object(v.jsx)("picture",{className:ke.a.picture,children:Object(v.jsx)("img",{src:"https://themoviedb.org/t/p/w600_and_h900_bestv2".concat(t.profile_path),alt:t.name})}),Object(v.jsxs)("div",{className:ke.a.content,children:[Object(v.jsx)("h3",{className:ke.a.title,children:t.name}),Object(v.jsx)("span",{className:ke.a.rating,children:Q()().$y-Q()(a.birthday).$y})]}),Object(v.jsx)("footer",{className:ke.a.meta,children:!!t.character&&Object(v.jsx)("span",{className:ke.a.numReviews,children:t.character})})]})},De=r(35),Me=r(36),Ce=r.n(Me),Te=function(e){var t=e.subjectId,r=e.subjectType,a=Object(n.useState)(),s=Object(i.a)(a,2),c=s[0],o=s[1],l=ne(),u=l.addMovieReview,j=l.addTvShowReview,b=Object(n.useState)(5),h=Object(i.a)(b,2),p=h[0],x=h[1],O=Object(n.useCallback)(Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(c),e.prev=1,"movie"!==r){e.next=6;break}return e.next=5,u(t.toString(),c);case 5:e.sent;case 6:if("tv"!==r){e.next=10;break}return e.next=9,j(t.toString(),c);case 9:e.sent;case 10:window.location.reload(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))),[u,j,c,t.toString(),r]);return Object(n.useEffect)((function(){c&&O()}),[O]),Object(v.jsxs)("form",{className:Ce.a.ReviewForm,onSubmit:function(e){e.preventDefault();var t,r=new FormData(e.target),n=[],a=Object(je.a)(r);try{for(a.s();!(t=a.n()).done;){var s=t.value,c=Object(i.a)(s,2)[1];n.push(c)}}catch(m){a.e(m)}finally{a.f()}var l=n[0],u=n[1],j=n[2],d=Date.now();o({createdAt:d,deletedAt:null,modifiedAt:null,rating:l,title:u,review:j})},children:[Object(v.jsxs)("div",{className:Ce.a.reviewElements,children:[Object(v.jsxs)("div",{className:Ce.a.reviewRating,children:[Object(v.jsxs)("label",{htmlFor:"rating",children:[p," ",Object(v.jsx)(De.a,{})]}),Object(v.jsx)("input",{type:"range",min:"0",max:"5",name:"rating",onChange:function(e){x(e.target.value)}})]}),Object(v.jsxs)("div",{className:Ce.a.reviewTitle,children:[Object(v.jsx)("label",{htmlFor:"title",children:"Title"}),Object(v.jsx)("input",{type:"text",name:"title",placeholder:"Your title"})]})]}),Object(v.jsx)("textarea",{name:"reviewText",placeholder:"Your message...",required:!0}),Object(v.jsx)("button",{type:"submit",value:"Submit",children:Object(v.jsx)(F.c,{})})]})},Re=r(65),Ae=r.n(Re),Fe=r(32),Ee=r.n(Fe);Q.a.extend(fe.a),Q.a.extend(ge.a),Q.a.extend(ye.a);var Be=function(e){for(var t=e.review,r=Object(n.useState)(!1),a=Object(i.a)(r,2),s=a[0],c=a[1],o=[,,,,],l=0;l<t.rating;l++)o.push(Object(v.jsx)(De.a,{},l));for(var u=0;u<5-t.rating;u++)o.push(Object(v.jsx)(De.b,{},t.rating+u));return Object(v.jsxs)("article",{className:Ee.a.ReviewListItem,children:[Object(v.jsxs)("header",{className:Ee.a.reviewHeader,children:[Object(v.jsx)("div",{className:Ee.a.reviewRating,children:o.map((function(e){return e}))}),Object(v.jsx)("h3",{className:Ee.a.reviewTitle,children:t.title.normalize()})]}),Object(v.jsxs)("p",{children:["Posted on: ",Object(v.jsx)("strong",{children:Q()(new Date(t.createdAt)).fromNow()})]}),!s&&Object(v.jsxs)("p",{children:[t.review.slice(0,140),"..."]}),!!s&&Object(v.jsx)("p",{children:t.review}),Object(v.jsxs)("button",{onClick:function(e){e.preventDefault(),c(!s)},type:"button",className:Ee.a.readMore,children:[!s&&"Read more",!!s&&"Hide"]})]})},Pe=function(e){var t=e.reviews,r=e.amount,n=void 0===r?null:r;return t&&n&&(t.length=n),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Reviews"}),Object(v.jsx)("ul",{className:Ae.a.reviewList,children:!!t&&t.map((function(e){return Object(v.jsx)(Be,{review:e},e.uid)}))})]})},Ue=r(11),qe=r.n(Ue),$e=function(e){var t=e.id,r=g().currentUser,a=G("/movie/".concat(t),"append_to_response=videos,images,credits,keywords,recommendations"),s=Object(i.a)(a,3),c=s[0],o=s[1],u=s[2],j=G("movie/".concat(t,"/watch/providers")),b=Object(i.a)(j,3),h=b[0],p=(b[1],b[2],Object(n.useState)(!1)),x=Object(i.a)(p,2),O=x[0],f=x[1],_=Object(n.useState)(),w=Object(i.a)(_,2),y=w[0],S=w[1],I=Object(n.useState)(),k=Object(i.a)(I,2),L=k[0],D=k[1],M=Object(n.useState)(),C=Object(i.a)(M,2),T=C[0],R=C[1],A=ne(),E=A.getMovieById,B=A.getMovieComments,P=A.getMovieReviews,U=Object(n.useCallback)(Object(m.a)(d.a.mark((function e(){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t.toString());case 3:return r=e.sent,S(r),e.next=7,B(t.toString());case 7:return n=e.sent,D(n),e.next=11,P(t.toString());case 11:a=e.sent,R(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0,t.toString());case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),[E,t.toString()]);Object(n.useEffect)((function(){U()}),[U]);var q=function(e){var t=e.video;return Object(v.jsx)("div",{className:qe.a.videoContainer,children:Object(v.jsx)("iframe",{width:"560",height:"349",src:"https://www.youtube.com/embed/".concat(t.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})};return Object(v.jsxs)("div",{className:qe.a.movie,children:[c&&Object(v.jsxs)("div",{className:qe.a.movielistItemContainer,children:[Object(v.jsxs)("article",{className:qe.a.movielistItem,children:[Object(v.jsxs)("div",{className:qe.a.visualInfo,children:[Object(v.jsx)("picture",{className:qe.a.picture,children:Object(v.jsx)("img",{src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/".concat(c.poster_path),alt:c.title})}),Object(v.jsxs)("div",{className:qe.a.content,children:[Object(v.jsxs)("span",{className:qe.a.rating,children:[10*c.vote_average,Object(v.jsx)("sup",{children:"%"})]}),Object(v.jsx)("h3",{className:qe.a.title,children:c.title})]}),Object(v.jsxs)("footer",{className:qe.a.meta,children:[y&&Object(v.jsxs)("span",{className:qe.a.numReviews,children:[Object(v.jsx)(Z.a,{}),Object(v.jsx)("span",{children:y.numReviews})]}),y&&Object(v.jsxs)("span",{className:qe.a.numViews,children:[Object(v.jsx)(F.a,{}),Object(v.jsx)("span",{children:y.numViews})]})]}),c.videos&&Object(v.jsx)(q,{video:c.videos.results[0]})]}),Object(v.jsxs)("div",{className:qe.a.textInfo,children:[Object(v.jsx)("h1",{children:c.title}),Object(v.jsx)("ul",{className:qe.a.tagsList,children:!!c.keywords&&!!c.keywords.keywords&&c.keywords.keywords.map((function(e){return Object(v.jsx)("li",{className:qe.a.tag,children:e.name},e.id)}))}),Object(v.jsx)("h2",{children:c.tagline}),Object(v.jsxs)("a",{href:c.homepage,title:c.title,children:[c.title," homepage"]}),!!h&!!h.results&&h.results.BE&&h.results.BE.flatrate&&Object(v.jsxs)("div",{className:qe.a.watch,children:[Object(v.jsx)("p",{children:"Links: "}),Object(v.jsx)("a",{href:h.results.BE.link,children:Object(v.jsx)("img",{className:qe.a.providerLogo,src:"https://www.themoviedb.org/t/p/original".concat(h.results.BE.flatrate[0].logo_path),alt:h.results.BE.flatrate[0].provider_name})})]}),Object(v.jsx)("h2",{children:"Synopsis:"}),Object(v.jsx)("p",{children:c.overview}),Object(v.jsx)("h2",{children:"Top Cast"}),Object(v.jsx)("div",{className:qe.a.people,children:!!c.credits&&c.credits.cast&&c.credits.cast.slice(0,3).map((function(e){return Object(v.jsx)(Le,{person:e},e.id)}))})]})]}),Object(v.jsxs)("h3",{className:qe.a.recommendationsTitle,children:["If you liked ",Object(v.jsx)("em",{children:c.title}),", look out for these movies"]}),Object(v.jsx)("div",{className:qe.a.recommendedMoviesList,children:!!c.recommendations&&!!c.recommendations.results&&c.recommendations.results.map((function(e){return Object(v.jsx)(l.b,{to:N.replace(":id",e.id),children:Object(v.jsx)("img",{className:qe.a.movieImg,src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/".concat(e.poster_path),alt:e.title},e.id)},e.id)}))}),!!r&&Object(v.jsxs)("div",{className:qe.a.review,children:[Object(v.jsx)("img",{className:qe.a.user__avatar,src:"https://robohash.org/".concat(r.id,"?gravatar=hashed"),alt:"User avatar"}),Object(v.jsx)("button",{className:qe.a.leaveReviewButton,onClick:function(e){f(!O)},children:"Add a review"}),O&&Object(v.jsx)(Te,{subjectId:t,subjectType:"movie"})]}),Object(v.jsx)(Pe,{reviews:T,amount:3}),Object(v.jsx)("h3",{children:"Comments"}),Object(v.jsx)(be,{subjectId:t,subjectType:"movies"}),Object(v.jsx)(Ne,{comments:L,subjectType:"movies",subjectId:t,amount:3},t)]}),o&&Object(v.jsx)("p",{children:"Loading..."}),u&&Object(v.jsxs)("p",{children:["Error! ",u.message]})]})},Ve=r(66),Ye=r.n(Ve),He=function(e){var t=e.onFiltersChange,r=G("genre/movie/list"),a=Object(i.a)(r,3),s=a[0],c=(a[1],a[2],Object(n.useState)("")),o=Object(i.a)(c,2),l=o[0],u=o[1],j=Object(n.useState)(),d=Object(i.a)(j,2),m=d[0],b=d[1],h=[];if(s&&s.genres)for(var p=0;p<s.genres.length;p++)h.push(Object(v.jsxs)("div",{className:Ye.a.filterOptions,children:[Object(v.jsx)("input",{type:"checkbox",id:s.genres[p].name,name:"genre",value:s.genres[p].id}),Object(v.jsx)("label",{htmlFor:s.genres[p].name,children:s.genres[p].name})]},p));var x=function(e,t){return{query:e,genres:t}};return Object(n.useEffect)((function(){if("function"===typeof t){var e=x(l,m);t(e)}}),[m,l]),Object(v.jsxs)("form",{name:"filtersForm",onSubmit:function(e){e.preventDefault();var t,r=new FormData(e.target),n=!1,a=!1,s=Object(je.a)(r);try{for(s.s();!(t=s.n()).done;){var c=t.value,o=Object(i.a)(c,1)[0];"genre"==o&&(n=!0),"searchKeyword"==o&&(a=!0)}}catch(l){s.e(l)}finally{s.f()}n?b(r.getAll("genre")):b(),u(a?r.getAll("searchKeyword"):""),x()},children:[Object(v.jsx)("h2",{children:"Filter"}),Object(v.jsx)("h3",{children:"By search term"}),Object(v.jsx)("input",{type:"search",name:"searchKeyword",placeholder:"Search for a movie..."}),Object(v.jsx)("button",{type:"submit",className:"applyFilterButton",children:"Apply Filters"},"button1"),Object(v.jsx)("h3",{children:"By genre"}),!!h&&h.map((function(e,t){return e}))]})},Ke=r(37),We=r.n(Ke),ze=function(){var e,t=Object(n.useState)(),r=Object(i.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)([]),o=Object(i.a)(c,2),l=o[0],u=o[1],j=Object(n.useState)(),b=Object(i.a)(j,2),p=b[0],x=b[1],O=Object(n.useState)(!0),f=Object(i.a)(O,2),_=f[0],g=f[1],w="";a&&""!=!!a.query[0]?(e="search/movie",w="&query='".concat(a.query[0],"'")):a&&a.genres&&a.genres.length>0?(e="discover/movie",w="&with_genres=".concat(a.genres.join(","))):(e="discover/movie",w="");var y="https://api.themoviedb.org/3/".concat(e,"?api_key=").concat(h.tmdbApiKey).concat(w),S=function(){var e=Object(m.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(y);case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,u(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),x(e.t0);case 13:return e.prev=13,g(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){S()}),[y]);var N=l.results;return Object(v.jsxs)("div",{className:We.a.moviesContainer,children:[Object(v.jsx)("section",{className:We.a.filters,children:Object(v.jsx)(He,{onFiltersChange:function(e){s(e)}})}),Object(v.jsxs)("section",{className:We.a.results,children:[Object(v.jsx)("h1",{children:"Movies"}),Object(v.jsxs)("div",{className:We.a.movieList,children:[_&&Object(v.jsx)("p",{children:" Loading... "}),!!N&&N.map((function(e){return Object(v.jsx)(ie,{movie:e},e.id)})),!!N&&N.length<1&&Object(v.jsx)("p",{children:"No data."}),p&&Object(v.jsxs)("p",{children:["Error: ",p.message]})]})]})]})},Je=(r(67),r(68)),Ge=r.n(Je),Ze=function(e){var t=e.id,r=G("/movie/".concat(t),"&append_to_response=videos,images"),n=Object(i.a)(r,3),a=n[0],s=n[1],c=n[2],o=function(e){var t=e.video;return Object(v.jsx)("div",{className:Ge.a.videoContainer,children:Object(v.jsx)("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/".concat(t.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})};return Object(v.jsxs)(v.Fragment,{children:[s&&Object(v.jsx)("p",{children:"Loading..."}),!!a&&!!a.videos&&a.videos.results.length>0&&Object(v.jsx)(o,{video:a.videos.results[0]}),!a.videos&&Object(v.jsx)("p",{children:"No video"}),c&&Object(v.jsxs)("p",{children:["Error: Movie not found. ",c.message]})]})},Xe=r(69),Qe=r.n(Xe),et=function(){var e=G("discover/movie","&sort_by=popularity.desc"),t=Object(i.a)(e,3),r=t[0],n=t[1],a=t[2],s=r.results,c=[];return s&&(c=s.slice(0,6)),Object(v.jsxs)("div",{className:Qe.a.movieTrailers,children:[n&&Object(v.jsx)("p",{children:"Loading..."}),!!c&&c.map((function(e){return Object(v.jsx)(Ze,{id:e.id},e.id)})),a&&Object(v.jsxs)("p",{children:["Error. Could not load movies. ",a.message]})]})},tt=r(25),rt=r.n(tt),nt=function(e){var t=e.show,r=Object(n.useState)(),a=Object(i.a)(r,2),s=a[0],c=a[1],o=ne().getTvShowById,u=Object(n.useCallback)(Object(m.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(t.id.toString());case 3:r=e.sent,c(r),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[o,t.id.toString()]);Object(n.useEffect)((function(){u()}),[u]);var j;return Object(v.jsx)("article",{className:rt.a.showlistItem,children:Object(v.jsxs)(l.b,{to:k.replace(":id",t.id),children:[Object(v.jsxs)("picture",{className:rt.a.picture,children:[!!t.poster_path&&Object(v.jsx)("img",{src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/".concat(t.poster_path),alt:t.name}),!t.poster_path&&Object(v.jsx)("img",{src:"https://api.acomart.tv/images/video-placeholder.jpg",alt:t.name})]}),Object(v.jsxs)("div",{className:rt.a.content,children:[Object(v.jsxs)("span",{className:rt.a.rating,children:[10*t.vote_average,Object(v.jsx)("sup",{children:"%"})]}),Object(v.jsx)("h3",{className:rt.a.title,children:t.name}),Object(v.jsxs)("p",{children:["First aired on: ",(j=t.first_air_date,Q()(j).format("DD/MM/YYYY"))]})]}),Object(v.jsxs)("footer",{className:rt.a.meta,children:[s&&Object(v.jsxs)("span",{className:rt.a.numReviews,children:[Object(v.jsx)(Z.a,{}),Object(v.jsx)("span",{children:s.numReviews})]}),!s&&Object(v.jsxs)("span",{className:rt.a.numReviews,children:[Object(v.jsx)(Z.a,{}),Object(v.jsx)("span",{children:t.vote_count})]}),s&&Object(v.jsxs)("span",{className:rt.a.numViews,children:[Object(v.jsx)(F.a,{}),Object(v.jsx)("span",{children:s.numViews})]}),!s&&Object(v.jsxs)("span",{className:rt.a.numViews,children:[Object(v.jsx)(F.a,{}),Object(v.jsx)("span",{children:Math.round(t.popularity)})]})]})]})})},at=r(70),st=r.n(at),ct=function(e){var t=e.filter,r=G("discover/tv",t),n=Object(i.a)(r,3),a=n[0],s=n[1],c=n[2],o=a.results,l=o;t.includes("first_air_date.gte=2021")&&o&&(l=o.sort((function(e,t){return e.first_air_date.split("-")[0]>t.first_air_date.split("-")[0]})).filter((function(e){return 1970!==parseInt(e.first_air_date_year)})));return o&&o.length>0&&(l=l.filter((function(e){return null!==e.poster_path}))),Object(v.jsxs)("div",{className:st.a.showList,children:[s&&Object(v.jsx)("p",{children:"Loading..."}),!!o&&l.map((function(e){return Object(v.jsx)(nt,{show:e},e.id)})),!!o&&o.length<1&&Object(v.jsx)("p",{children:"No data."}),c&&Object(v.jsxs)("p",{children:["Error: ",c.message]})]})},it=r(12),ot=r.n(it),lt=function(e){var t=e.id,r=g().currentUser,a=G("/tv/".concat(t),"append_to_response=videos,image,credits,keywords,similar"),s=Object(i.a)(a,3),c=s[0],o=s[1],u=s[2],j=G("tv/".concat(t,"/watch/providers")),b=Object(i.a)(j,3),h=b[0],p=(b[1],b[2],Object(n.useState)()),x=Object(i.a)(p,2),O=(x[0],x[1]),f=Object(n.useState)(),_=Object(i.a)(f,2),w=_[0],y=_[1],S=Object(n.useState)(),N=Object(i.a)(S,2),I=N[0],L=N[1],D=Object(n.useState)(!1),M=Object(i.a)(D,2),C=M[0],T=M[1],R=ne(),A=R.getTvShowById,E=R.getTvShowComments,B=R.getTvShowReviews,P=Object(n.useCallback)(Object(m.a)(d.a.mark((function e(){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t.toString());case 3:return r=e.sent,O(r),e.next=7,E(t.toString());case 7:return n=e.sent,y(n),e.next=11,B(t.toString());case 11:a=e.sent,L(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0,t.toString());case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),[A,E,B,t.toString()]);Object(n.useEffect)((function(){P()}),[P]);var U=function(e){var t=e.video;return Object(v.jsx)("div",{className:ot.a.videoContainer,children:Object(v.jsx)("iframe",{width:"560",height:"349",src:"https://www.youtube.com/embed/".concat(t.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})};return Object(v.jsxs)("div",{className:ot.a.tvShow,children:[c&&Object(v.jsxs)("article",{className:ot.a.showlistItem,children:[Object(v.jsxs)("div",{className:ot.a.visualInfo,children:[Object(v.jsx)("picture",{className:ot.a.picture,children:Object(v.jsx)("img",{src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/".concat(c.poster_path),alt:c.title})}),Object(v.jsxs)("div",{className:ot.a.content,children:[Object(v.jsxs)("span",{className:ot.a.rating,children:[10*c.vote_average,Object(v.jsx)("sup",{children:"%"})]}),Object(v.jsx)("h3",{className:ot.a.title,children:c.title})]}),Object(v.jsxs)("footer",{className:ot.a.meta,children:[Object(v.jsxs)("span",{className:ot.a.numReviews,children:[Object(v.jsx)(Z.a,{}),Object(v.jsx)("span",{children:c.vote_count})]}),Object(v.jsxs)("span",{className:ot.a.numViews,children:[Object(v.jsx)(F.a,{}),Object(v.jsx)("span",{children:Math.floor(c.popularity)})]})]}),c.videos&&Object(v.jsx)(U,{video:c.videos.results[0]})]}),Object(v.jsxs)("div",{className:ot.a.textInfo,children:[Object(v.jsx)("h1",{children:c.name}),Object(v.jsx)("ul",{className:ot.a.tagsList,children:!!c.keywords&&!!c.keywords.results&&c.keywords.results.map((function(e){return Object(v.jsx)("li",{className:ot.a.tag,children:e.name},e.id)}))}),Object(v.jsx)("h2",{children:c.tagline}),Object(v.jsxs)("a",{href:c.homepage,title:c.name,children:[c.name," homepage"]}),!!h&!!h.results&&h.results.BE&&h.results.BE.flatrate&&Object(v.jsxs)("div",{className:ot.a.watch,children:[Object(v.jsx)("p",{children:"Watch: "})," ",Object(v.jsx)("a",{href:h.results.BE.link,children:Object(v.jsx)("img",{className:ot.a.providerLogo,src:"https://www.themoviedb.org/t/p/original".concat(h.results.BE.flatrate[0].logo_path),alt:h.results.BE.flatrate[0].provider_name})})]}),Object(v.jsx)("h2",{children:"Synopsis:"}),Object(v.jsx)("p",{children:c.overview}),Object(v.jsx)("h2",{children:"Top Cast"}),Object(v.jsx)("div",{className:ot.a.people,children:!!c.credits&&c.credits.cast&&c.credits.cast.slice(0,3).map((function(e){return Object(v.jsx)(Le,{person:e},e.id)}))})]})]}),Object(v.jsxs)("h3",{className:ot.a.recommendationsTitle,children:["If you liked ",Object(v.jsx)("em",{children:c.name}),", look out for these TV shows"]}),Object(v.jsx)("div",{className:ot.a.recommendedMoviesList,children:!!c.similar&&!!c.similar.results&&c.similar.results.map((function(e){return Object(v.jsx)(l.b,{to:k.replace(":id",e.id),children:Object(v.jsx)("img",{className:ot.a.movieImg,src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/".concat(e.poster_path),alt:e.title},e.id)},e.id)}))}),!!r&&Object(v.jsxs)("div",{className:ot.a.review,children:[Object(v.jsx)("img",{className:ot.a.user__avatar,src:"https://robohash.org/".concat(r.id,"?gravatar=hashed"),alt:"User avatar"}),Object(v.jsx)("button",{className:ot.a.leaveReviewButton,onClick:function(e){T(!C)},children:"Add a review"}),!!C&&Object(v.jsx)(Te,{subjectId:t,subjectType:"tv"})]}),Object(v.jsx)(Pe,{reviews:I,amount:3}),Object(v.jsx)(be,{subjectId:t,subjectType:"tv"}),Object(v.jsx)(Ne,{comments:w,subjectType:"tv",subjectId:t,amount:3},t),o&&Object(v.jsx)("p",{children:"Loading..."}),u&&Object(v.jsxs)("p",{children:["Error! ",u.message]})]})},ut=r(71),jt=r.n(ut),dt=function(e){var t=e.onFiltersChange,r=G("genre/tv/list"),a=Object(i.a)(r,3),s=a[0],c=(a[1],a[2],Object(n.useState)("")),o=Object(i.a)(c,2),l=o[0],u=o[1],j=Object(n.useState)(),d=Object(i.a)(j,2),m=d[0],b=d[1],h=[];if(s&&s.genres)for(var p=0;p<s.genres.length;p++)h.push(Object(v.jsxs)("div",{className:jt.a.filterOptions,children:[Object(v.jsx)("input",{type:"checkbox",id:s.genres[p].name,name:"genre",value:s.genres[p].id}),Object(v.jsx)("label",{htmlFor:s.genres[p].name,children:s.genres[p].name})]},p));var x=function(e,t){return{query:e,genres:t}};return Object(n.useEffect)((function(){if("function"===typeof t){var e=x(l,m);t(e)}}),[m,l]),Object(v.jsxs)("form",{name:"filtersForm",onSubmit:function(e){e.preventDefault();var t,r=new FormData(e.target),n=!1,a=!1,s=Object(je.a)(r);try{for(s.s();!(t=s.n()).done;){var c=t.value,o=Object(i.a)(c,1)[0];"genre"==o&&(n=!0),"searchKeyword"==o&&(a=!0)}}catch(j){s.e(j)}finally{s.f()}n?b(r.getAll("genre")):b(),u(a?r.getAll("searchKeyword"):""),x(l,m)},children:[Object(v.jsx)("h2",{children:"Filter"}),Object(v.jsx)("h3",{children:"By search term"}),Object(v.jsx)("input",{type:"search",name:"searchKeyword",placeholder:"Search for a movie..."}),Object(v.jsx)("button",{type:"submit",className:"applyFilterButton",children:"Apply Filters"},"button1"),Object(v.jsx)("h3",{children:"By genre"}),!!h&&h.map((function(e,t){return e}))]})},mt=r(38),bt=r.n(mt),ht=function(){var e,t=Object(n.useState)(),r=Object(i.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)([]),o=Object(i.a)(c,2),l=o[0],u=o[1],j=Object(n.useState)(),b=Object(i.a)(j,2),p=b[0],x=b[1],O=Object(n.useState)(!0),f=Object(i.a)(O,2),_=f[0],g=f[1],w="";a&&""!=!!a.query[0]?(e="search/tv",w="&query='".concat(a.query[0],"'")):a&&a.genres&&a.genres.length>0?(e="discover/tv",w="&with_genres=".concat(a.genres.join(","))):(e="discover/tv",w="");var y="https://api.themoviedb.org/3/".concat(e,"?api_key=").concat(h.tmdbApiKey).concat(w),S=function(){var e=Object(m.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(y);case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,u(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),x(e.t0);case 13:return e.prev=13,g(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){S()}),[y]);var N=l.results;return Object(v.jsxs)("div",{className:bt.a.showsContainer,children:[Object(v.jsx)("section",{className:bt.a.filters,children:Object(v.jsx)(dt,{onFiltersChange:function(e){s(e)}})}),Object(v.jsxs)("section",{className:bt.a.results,children:[Object(v.jsx)("h1",{children:"TV"}),Object(v.jsxs)("div",{className:bt.a.showList,children:[_&&Object(v.jsx)("p",{children:" Loading... "}),!!N&&N.map((function(e){return Object(v.jsx)(nt,{show:e},e.id)})),!!N&&N.length<1&&Object(v.jsx)("p",{children:"No data."}),p&&Object(v.jsxs)("p",{children:["Error: ",p.message]})]})]})]})},pt=(r(72),function(){return Object(v.jsxs)(J,{children:[Object(v.jsxs)("section",{className:"movies",children:[Object(v.jsx)("h2",{children:"Movies"}),Object(v.jsx)("h3",{children:"Popular Movies"}),Object(v.jsx)(ue,{filter:"sort_by=popularity.desc"}),Object(v.jsx)("h3",{children:"New Releases"}),Object(v.jsx)(ue,{filter:"primary_release_year=2021"}),Object(v.jsx)("h3",{children:"Coming Soon"}),Object(v.jsx)(ue,{filter:"sort_by=release_date.desc"}),Object(v.jsx)("h3",{children:"Popular Trailers"}),Object(v.jsx)(et,{})]}),Object(v.jsxs)("section",{className:"tv-shows",children:[Object(v.jsx)("h2",{children:"TV Shows"}),Object(v.jsx)("h3",{children:"Popular TV Shows"}),Object(v.jsx)(ct,{filter:"sort_by=popularity.desc"}),Object(v.jsx)("h3",{children:"New TV Shows"}),Object(v.jsx)(ct,{filter:"sort_by=first_air_date&first_air_date_year=2021&timezone=America%2FNew_York&language=en_US"}),Object(v.jsx)("h3",{children:"Airing Soon"}),Object(v.jsx)(ct,{filter:"sort_by=first_air_date.desc&first_air_date.gte=2021&timezone=America%2FNew_York&language=en_US"})]})]})}),vt=(r(46),function(){var e=Object(u.g)().id;return Object(v.jsx)(J,{children:Object(v.jsx)($e,{id:e})})}),xt=function(){return Object(v.jsx)(J,{children:Object(v.jsx)(ze,{})})},Ot=function(){var e=Object(u.g)().id;return Object(v.jsx)(J,{children:Object(v.jsx)(lt,{id:e})})},ft=function(){return Object(v.jsx)(J,{children:Object(v.jsx)(ht,{})})},_t=r(39),gt=function(e){e.children;var t=Object(u.f)(),r=Object(n.useState)({txtEmail:"",txtPassword:""}),a=Object(i.a)(r,2),s=a[0],c=a[1],o=g(),l=(o.currentUser,o.signInWithEmailAndPassword),j=(o.signOut,function(){var e=Object(m.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,l(s.txtEmail,s.txtPassword);case 3:e.sent,t.goBack();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b=function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(Object(ee.a)(Object(ee.a)({},s),{},Object(_t.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:C.a.pageSignIn,children:Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-12 offset-md-2 col-md-8 offset-lg-3 col-lg-6",children:Object(v.jsxs)("form",{onSubmit:function(e){return j(e)},children:[Object(v.jsxs)("div",{className:C.a.formGroup,children:[Object(v.jsx)("label",{htmlFor:"txtEmail",children:"Email address"}),Object(v.jsx)("input",{type:"email",className:"form-control",id:"txtEmail",name:"txtEmail","aria-describedby":"emailHelp",onChange:b,value:s.txtEmail}),Object(v.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(v.jsxs)("div",{className:C.a.formGroup,children:[Object(v.jsx)("label",{htmlFor:"txtPassword",children:"Password"}),Object(v.jsx)("input",{type:"password",className:"form-control",id:"txtPassword",name:"txtPassword",onChange:b,value:s.txtPassword})]}),Object(v.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign In"})]})})})})})},wt=r(74),yt=r(73),St=r.n(yt),Nt=function(e){var t=e.query;return Object(v.jsxs)("div",{className:St.a.SearchFilters,children:[Object(v.jsx)("p",{children:"Showing results for:"}),Object(v.jsxs)("strong",{children:[t,Object(v.jsx)(wt.a,{})]})]})},It=r(75),kt=r.n(It),Lt=function(e){var t=e.result;switch(t.media_type){case"person":return Object(v.jsx)(Le,{person:t},t.index);case"movie":return Object(v.jsx)(ie,{movie:t},t.index);case"tv":return Object(v.jsx)(nt,{show:t},t.index)}},Dt=function(e){var t=e.query,r=G("search/multi","query=".concat(encodeURI(t),"&language=en-US")),n=Object(i.a)(r,3),a=n[0],s=n[1],c=n[2];return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:kt.a.resultsList,children:[s&&Object(v.jsx)("p",{children:"Loading..."}),!!a&&!!a.results&&a.results.map((function(e){return Object(v.jsx)(Lt,{result:e},e.id)})),c&&Object(v.jsxs)("p",{children:["Error: ",c.message]})]})})},Mt=function(){var e=Object(u.g)().query;return Object(v.jsxs)(J,{children:[Object(v.jsx)(Nt,{query:e}),Object(v.jsx)(Dt,{query:e})]})};var Ct=function(){var e=Object(n.useState)("light"),t=Object(i.a)(e,2),r=t[0],a=t[1];return Object(v.jsx)(E.Provider,{value:{theme:r,setTheme:a},children:Object(v.jsxs)("div",{className:C.a.app,"data-theme":r,children:[Object(v.jsxs)(o.a,{children:[Object(v.jsx)("meta",{charSet:"utf-8"}),Object(v.jsx)("title",{children:"Movie Application"})]}),Object(v.jsx)(f,{children:Object(v.jsx)(w,{children:Object(v.jsx)(ae,{children:Object(v.jsx)(l.a,{basename:"",children:Object(v.jsxs)(u.c,{children:[Object(v.jsx)(u.a,{exact:!0,path:y,component:pt}),Object(v.jsx)(u.a,{from:"/home",to:y}),Object(v.jsx)(u.a,{exact:!0,path:N,component:vt}),Object(v.jsx)(u.a,{exact:!0,path:S,component:xt}),Object(v.jsx)(u.a,{exact:!0,path:k,component:Ot}),Object(v.jsx)(u.a,{exact:!0,path:I,component:ft}),Object(v.jsx)(u.a,{exact:!0,path:D,component:gt}),Object(v.jsx)(u.a,{path:L,component:Mt})]})})})})})]})})},Tt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,94)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(Ct,{})}),document.getElementById("root")),Tt()}],[[90,1,2]]]);
//# sourceMappingURL=main.33aa45ad.chunk.js.map